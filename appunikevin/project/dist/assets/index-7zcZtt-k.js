function hd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ts(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var fd={exports:{}},Li={},pd={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),gm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),xm=Symbol.for("react.memo"),bm=Symbol.for("react.lazy"),yu=Symbol.iterator;function jm(t){return t===null||typeof t!="object"?null:(t=yu&&t[yu]||t["@@iterator"],typeof t=="function"?t:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gd=Object.assign,vd={};function en(t,e,r){this.props=t,this.context=e,this.refs=vd,this.updater=r||md}en.prototype.isReactComponent={};en.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};en.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yd(){}yd.prototype=en.prototype;function sl(t,e,r){this.props=t,this.context=e,this.refs=vd,this.updater=r||md}var il=sl.prototype=new yd;il.constructor=sl;gd(il,en.prototype);il.isPureReactComponent=!0;var wu=Array.isArray,wd=Object.prototype.hasOwnProperty,ol={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Sd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wd.call(e,n)&&!_d.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rs,type:t,key:i,ref:o,props:s,_owner:ol.current}}function Tm(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function al(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function Cm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _u=/\/+/g;function uo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cm(""+t.key):e.toString(36)}function Bs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case gm:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+uo(o,0):n,wu(s)?(r="",t!=null&&(r=t.replace(_u,"$&/")+"/"),Bs(s,e,r,"",function(u){return u})):s!=null&&(al(s)&&(s=Tm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_u,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",wu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+uo(i,a);o+=Bs(i,e,r,l,s)}else if(l=jm(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+uo(i,a++),o+=Bs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(t,e,r){if(t==null)return t;var n=[],s=0;return Bs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Om(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Ms={transition:null},Rm={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:ol};function Ed(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:fs,forEach:function(t,e,r){fs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fs(t,function(){e++}),e},toArray:function(t){return fs(t,function(e){return e})||[]},only:function(t){if(!al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=en;$.Fragment=vm;$.Profiler=wm;$.PureComponent=sl;$.StrictMode=ym;$.Suspense=km;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rm;$.act=Ed;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=gd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ol.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wd.call(e,l)&&!_d.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:rs,type:t.type,key:s,ref:i,props:n,_owner:o}};$.createContext=function(t){return t={$$typeof:Sm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_m,_context:t},t.Consumer=t};$.createElement=Sd;$.createFactory=function(t){var e=Sd.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Em,render:t}};$.isValidElement=al;$.lazy=function(t){return{$$typeof:bm,_payload:{_status:-1,_result:t},_init:Om}};$.memo=function(t,e){return{$$typeof:xm,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Ms.transition;Ms.transition={};try{t()}finally{Ms.transition=e}};$.unstable_act=Ed;$.useCallback=function(t,e){return Se.current.useCallback(t,e)};$.useContext=function(t){return Se.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};$.useEffect=function(t,e){return Se.current.useEffect(t,e)};$.useId=function(){return Se.current.useId()};$.useImperativeHandle=function(t,e,r){return Se.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Se.current.useMemo(t,e)};$.useReducer=function(t,e,r){return Se.current.useReducer(t,e,r)};$.useRef=function(t){return Se.current.useRef(t)};$.useState=function(t){return Se.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return Se.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return Se.current.useTransition()};$.version="18.3.1";pd.exports=$;var E=pd.exports;const ll=nl(E),Pm=hd({__proto__:null,default:ll},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=E,Am=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),$m=Object.prototype.hasOwnProperty,Lm=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Um={key:!0,ref:!0,__self:!0,__source:!0};function kd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$m.call(e,n)&&!Um.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Am,type:t,key:i,ref:o,props:s,_owner:Lm.current}}Li.Fragment=Im;Li.jsx=kd;Li.jsxs=kd;fd.exports=Li;var f=fd.exports,Wo={},xd={exports:{}},$e={},bd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,A){var I=O.length;O.push(A);e:for(;0<I;){var Y=I-1>>>1,ie=O[Y];if(0<s(ie,A))O[Y]=A,O[I]=ie,I=Y;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var A=O[0],I=O.pop();if(I!==A){O[0]=I;e:for(var Y=0,ie=O.length,ds=ie>>>1;Y<ds;){var qt=2*(Y+1)-1,lo=O[qt],Kt=qt+1,hs=O[Kt];if(0>s(lo,I))Kt<ie&&0>s(hs,lo)?(O[Y]=hs,O[Kt]=I,Y=Kt):(O[Y]=lo,O[qt]=I,Y=qt);else if(Kt<ie&&0>s(hs,I))O[Y]=hs,O[Kt]=I,Y=Kt;else break e}}return A}function s(O,A){var I=O.sortIndex-A.sortIndex;return I!==0?I:O.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=O)n(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(u)}}function S(O){if(w=!1,y(O),!v)if(r(l)!==null)v=!0,oo(k);else{var A=r(u);A!==null&&ao(S,A.startTime-O)}}function k(O,A){v=!1,w&&(w=!1,m(R),R=-1),p=!0;var I=h;try{for(y(A),d=r(l);d!==null&&(!(d.expirationTime>A)||O&&!We());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var ie=Y(d.expirationTime<=A);A=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(l)&&n(l),y(A)}else n(l);d=r(l)}if(d!==null)var ds=!0;else{var qt=r(u);qt!==null&&ao(S,qt.startTime-A),ds=!1}return ds}finally{d=null,h=I,p=!1}}var b=!1,j=null,R=-1,D=5,L=-1;function We(){return!(t.unstable_now()-L<D)}function un(){if(j!==null){var O=t.unstable_now();L=O;var A=!0;try{A=j(!0,O)}finally{A?cn():(b=!1,j=null)}}else b=!1}var cn;if(typeof g=="function")cn=function(){g(un)};else if(typeof MessageChannel<"u"){var vu=new MessageChannel,mm=vu.port2;vu.port1.onmessage=un,cn=function(){mm.postMessage(null)}}else cn=function(){_(un,0)};function oo(O){j=O,b||(b=!0,cn())}function ao(O,A){R=_(function(){O(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,oo(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var I=h;h=A;try{return O()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=h;h=O;try{return A()}finally{h=I}},t.unstable_scheduleCallback=function(O,A,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=I+ie,O={id:c++,callback:A,priorityLevel:O,startTime:I,expirationTime:ie,sortIndex:-1},I>Y?(O.sortIndex=I,e(u,O),r(l)===null&&O===r(u)&&(w?(m(R),R=-1):w=!0,ao(S,I-Y))):(O.sortIndex=ie,e(l,O),v||p||(v=!0,oo(k))),O},t.unstable_shouldYield=We,t.unstable_wrapCallback=function(O){var A=h;return function(){var I=h;h=A;try{return O.apply(this,arguments)}finally{h=I}}}})(jd);bd.exports=jd;var Dm=bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=E,Ie=Dm;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,In={};function pr(t,e){Wr(t,e),Wr(t+"Capture",e)}function Wr(t,e){for(In[t]=e,t=0;t<e.length;t++)Td.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,Mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Su={},Eu={};function zm(t){return Ho.call(Eu,t)?!0:Ho.call(Su,t)?!1:Mm.test(t)?Eu[t]=!0:(Su[t]=!0,!1)}function Fm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vm(t,e,r,n){if(e===null||typeof e>"u"||Fm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ul,cl);fe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ul,cl);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ul,cl);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function dl(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vm(e,r,s,n)&&(r=null),n||s===null?zm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vt=Bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),xr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),qo=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Od=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),Ko=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),pl=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),ku=Symbol.iterator;function dn(t){return t===null||typeof t!="object"?null:(t=ku&&t[ku]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,co;function wn(t){if(co===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);co=e&&e[1]||""}return`
`+co+t}var ho=!1;function fo(t,e){if(!t||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wn(t):""}function Wm(t){switch(t.tag){case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return t=fo(t.type,!1),t;case 11:return t=fo(t.type.render,!1),t;case 1:return t=fo(t.type,!0),t;default:return""}}function Jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case br:return"Fragment";case xr:return"Portal";case qo:return"Profiler";case hl:return"StrictMode";case Ko:return"Suspense";case Go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Od:return(t.displayName||"Context")+".Consumer";case Cd:return(t._context.displayName||"Context")+".Provider";case fl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pl:return e=t.displayName||null,e!==null?e:Jo(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return Jo(t(e))}catch{}}return null}function Hm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jo(e);case 8:return e===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qm(t){var e=Pd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ms(t){t._valueTracker||(t._valueTracker=qm(t))}function Nd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Pd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qo(t,e){var r=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ad(t,e){e=e.checked,e!=null&&dl(t,"checked",e,!1)}function Yo(t,e){Ad(t,e);var r=Dt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xo(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xo(t,e,r){(e!=="number"||ti(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _n=Array.isArray;function Lr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ju(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(x(92));if(_n(r)){if(1<r.length)throw Error(x(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dt(r)}}function Id(t,e){var r=Dt(e.value),n=Dt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $d(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$d(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gs,Ld=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $n(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(t){Km.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bn[e]=bn[t]})});function Ud(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bn.hasOwnProperty(t)&&bn[t]?(""+e).trim():e+"px"}function Dd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ud(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Gm=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(t,e){if(e){if(Gm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function ra(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=null;function ml(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sa=null,Ur=null,Dr=null;function Cu(t){if(t=is(t)){if(typeof sa!="function")throw Error(x(280));var e=t.stateNode;e&&(e=zi(e),sa(t.stateNode,t.type,e))}}function Bd(t){Ur?Dr?Dr.push(t):Dr=[t]:Ur=t}function Md(){if(Ur){var t=Ur,e=Dr;if(Dr=Ur=null,Cu(t),e)for(t=0;t<e.length;t++)Cu(e[t])}}function zd(t,e){return t(e)}function Fd(){}var po=!1;function Vd(t,e,r){if(po)return t(e,r);po=!0;try{return zd(t,e,r)}finally{po=!1,(Ur!==null||Dr!==null)&&(Fd(),Md())}}function Ln(t,e){var r=t.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(x(231,e,typeof r));return r}var ia=!1;if(ft)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){ia=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{ia=!1}function Jm(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var jn=!1,ri=null,ni=!1,oa=null,Qm={onError:function(t){jn=!0,ri=t}};function Ym(t,e,r,n,s,i,o,a,l){jn=!1,ri=null,Jm.apply(Qm,arguments)}function Xm(t,e,r,n,s,i,o,a,l){if(Ym.apply(this,arguments),jn){if(jn){var u=ri;jn=!1,ri=null}else throw Error(x(198));ni||(ni=!0,oa=u)}}function mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Wd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ou(t){if(mr(t)!==t)throw Error(x(188))}function Zm(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ou(s),t;if(i===n)return Ou(s),e;i=i.sibling}throw Error(x(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(x(189))}}if(r.alternate!==n)throw Error(x(190))}if(r.tag!==3)throw Error(x(188));return r.stateNode.current===r?t:e}function Hd(t){return t=Zm(t),t!==null?qd(t):null}function qd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qd(t);if(e!==null)return e;t=t.sibling}return null}var Kd=Ie.unstable_scheduleCallback,Ru=Ie.unstable_cancelCallback,eg=Ie.unstable_shouldYield,tg=Ie.unstable_requestPaint,X=Ie.unstable_now,rg=Ie.unstable_getCurrentPriorityLevel,gl=Ie.unstable_ImmediatePriority,Gd=Ie.unstable_UserBlockingPriority,si=Ie.unstable_NormalPriority,ng=Ie.unstable_LowPriority,Jd=Ie.unstable_IdlePriority,Ui=null,it=null;function sg(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:ag,ig=Math.log,og=Math.LN2;function ag(t){return t>>>=0,t===0?32:31-(ig(t)/og|0)|0}var vs=64,ys=4194304;function Sn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Sn(a):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function lg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=lg(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function aa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qd(){var t=vs;return vs<<=1,!(vs&4194240)&&(vs=64),t}function mo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ns(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function cg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function vl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var B=0;function Yd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xd,yl,Zd,eh,th,la=!1,ws=[],Ot=null,Rt=null,Pt=null,Un=new Map,Dn=new Map,Et=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Un.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(e.pointerId)}}function fn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=is(e),e!==null&&yl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hg(t,e,r,n,s){switch(e){case"focusin":return Ot=fn(Ot,t,e,r,n,s),!0;case"dragenter":return Rt=fn(Rt,t,e,r,n,s),!0;case"mouseover":return Pt=fn(Pt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Un.set(i,fn(Un.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Dn.set(i,fn(Dn.get(i)||null,t,e,r,n,s)),!0}return!1}function rh(t){var e=nr(t.target);if(e!==null){var r=mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Wd(r),e!==null){t.blockedOn=e,th(t.priority,function(){Zd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ua(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);na=n,r.target.dispatchEvent(n),na=null}else return e=is(r),e!==null&&yl(e),t.blockedOn=r,!1;e.shift()}return!0}function Nu(t,e,r){zs(t)&&r.delete(e)}function fg(){la=!1,Ot!==null&&zs(Ot)&&(Ot=null),Rt!==null&&zs(Rt)&&(Rt=null),Pt!==null&&zs(Pt)&&(Pt=null),Un.forEach(Nu),Dn.forEach(Nu)}function pn(t,e){t.blockedOn===e&&(t.blockedOn=null,la||(la=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,fg)))}function Bn(t){function e(s){return pn(s,t)}if(0<ws.length){pn(ws[0],t);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ot!==null&&pn(Ot,t),Rt!==null&&pn(Rt,t),Pt!==null&&pn(Pt,t),Un.forEach(e),Dn.forEach(e),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)rh(r),r.blockedOn===null&&Et.shift()}var Br=vt.ReactCurrentBatchConfig,oi=!0;function pg(t,e,r,n){var s=B,i=Br.transition;Br.transition=null;try{B=1,wl(t,e,r,n)}finally{B=s,Br.transition=i}}function mg(t,e,r,n){var s=B,i=Br.transition;Br.transition=null;try{B=4,wl(t,e,r,n)}finally{B=s,Br.transition=i}}function wl(t,e,r,n){if(oi){var s=ua(t,e,r,n);if(s===null)bo(t,e,n,ai,r),Pu(t,n);else if(hg(s,t,e,r,n))n.stopPropagation();else if(Pu(t,n),e&4&&-1<dg.indexOf(t)){for(;s!==null;){var i=is(s);if(i!==null&&Xd(i),i=ua(t,e,r,n),i===null&&bo(t,e,n,ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else bo(t,e,n,null,r)}}var ai=null;function ua(t,e,r,n){if(ai=null,t=ml(n),t=nr(t),t!==null)if(e=mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Wd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ai=t,null}function nh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rg()){case gl:return 1;case Gd:return 4;case si:case ng:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var jt=null,_l=null,Fs=null;function sh(){if(Fs)return Fs;var t,e=_l,r=e.length,n,s="value"in jt?jt.value:jt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function Au(){return!1}function Le(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:Au,this.isPropagationStopped=Au,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Le(tn),ss=J({},tn,{view:0,detail:0}),gg=Le(ss),go,vo,mn,Di=J({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mn&&(mn&&t.type==="mousemove"?(go=t.screenX-mn.screenX,vo=t.screenY-mn.screenY):vo=go=0,mn=t),go)},movementY:function(t){return"movementY"in t?t.movementY:vo}}),Iu=Le(Di),vg=J({},Di,{dataTransfer:0}),yg=Le(vg),wg=J({},ss,{relatedTarget:0}),yo=Le(wg),_g=J({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Le(_g),Eg=J({},tn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kg=Le(Eg),xg=J({},tn,{data:0}),$u=Le(xg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tg[t])?!!e[t]:!1}function El(){return Cg}var Og=J({},ss,{key:function(t){if(t.key){var e=bg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rg=Le(Og),Pg=J({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Le(Pg),Ng=J({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Ag=Le(Ng),Ig=J({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=Le(Ig),Lg=J({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Le(Lg),Dg=[9,13,27,32],kl=ft&&"CompositionEvent"in window,Tn=null;ft&&"documentMode"in document&&(Tn=document.documentMode);var Bg=ft&&"TextEvent"in window&&!Tn,ih=ft&&(!kl||Tn&&8<Tn&&11>=Tn),Uu=" ",Du=!1;function oh(t,e){switch(t){case"keyup":return Dg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function Mg(t,e){switch(t){case"compositionend":return ah(e);case"keypress":return e.which!==32?null:(Du=!0,Uu);case"textInput":return t=e.data,t===Uu&&Du?null:t;default:return null}}function zg(t,e){if(jr)return t==="compositionend"||!kl&&oh(t,e)?(t=sh(),Fs=_l=jt=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ih&&e.locale!=="ko"?null:e.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fg[t.type]:e==="textarea"}function lh(t,e,r,n){Bd(n),e=li(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cn=null,Mn=null;function Vg(t){wh(t,0)}function Bi(t){var e=Or(t);if(Nd(e))return t}function Wg(t,e){if(t==="change")return e}var uh=!1;if(ft){var wo;if(ft){var _o="oninput"in document;if(!_o){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),_o=typeof Mu.oninput=="function"}wo=_o}else wo=!1;uh=wo&&(!document.documentMode||9<document.documentMode)}function zu(){Cn&&(Cn.detachEvent("onpropertychange",ch),Mn=Cn=null)}function ch(t){if(t.propertyName==="value"&&Bi(Mn)){var e=[];lh(e,Mn,t,ml(t)),Vd(Vg,e)}}function Hg(t,e,r){t==="focusin"?(zu(),Cn=e,Mn=r,Cn.attachEvent("onpropertychange",ch)):t==="focusout"&&zu()}function qg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bi(Mn)}function Kg(t,e){if(t==="click")return Bi(e)}function Gg(t,e){if(t==="input"||t==="change")return Bi(e)}function Jg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:Jg;function zn(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ho.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Fu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vu(t,e){var r=Fu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fu(r)}}function dh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hh(){for(var t=window,e=ti();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ti(t.document)}return e}function xl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qg(t){var e=hh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&dh(r.ownerDocument.documentElement,r)){if(n!==null&&xl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Vu(r,i);var o=Vu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yg=ft&&"documentMode"in document&&11>=document.documentMode,Tr=null,ca=null,On=null,da=!1;function Wu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;da||Tr==null||Tr!==ti(n)||(n=Tr,"selectionStart"in n&&xl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&zn(On,n)||(On=n,n=li(ca,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Tr)))}function Ss(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cr={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},So={},fh={};ft&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Mi(t){if(So[t])return So[t];if(!Cr[t])return t;var e=Cr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in fh)return So[t]=e[r];return t}var ph=Mi("animationend"),mh=Mi("animationiteration"),gh=Mi("animationstart"),vh=Mi("transitionend"),yh=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mt(t,e){yh.set(t,e),pr(e,[t])}for(var Eo=0;Eo<Hu.length;Eo++){var ko=Hu[Eo],Xg=ko.toLowerCase(),Zg=ko[0].toUpperCase()+ko.slice(1);Mt(Xg,"on"+Zg)}Mt(ph,"onAnimationEnd");Mt(mh,"onAnimationIteration");Mt(gh,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(vh,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function qu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Xm(n,e,void 0,t),t.currentTarget=null}function wh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qu(s,a,u),i=l}}}if(ni)throw t=oa,ni=!1,oa=null,t}function V(t,e){var r=e[ga];r===void 0&&(r=e[ga]=new Set);var n=t+"__bubble";r.has(n)||(_h(e,t,2,!1),r.add(n))}function xo(t,e,r){var n=0;e&&(n|=4),_h(r,t,n,e)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Fn(t){if(!t[Es]){t[Es]=!0,Td.forEach(function(r){r!=="selectionchange"&&(ev.has(r)||xo(r,!1,t),xo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Es]||(e[Es]=!0,xo("selectionchange",!1,e))}}function _h(t,e,r,n){switch(nh(e)){case 1:var s=pg;break;case 4:s=mg;break;default:s=wl}r=s.bind(null,e,r,t),s=void 0,!ia||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function bo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vd(function(){var u=i,c=ml(r),d=[];e:{var h=yh.get(t);if(h!==void 0){var p=Sl,v=t;switch(t){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":p=Rg;break;case"focusin":v="focus",p=yo;break;case"focusout":v="blur",p=yo;break;case"beforeblur":case"afterblur":p=yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ag;break;case ph:case mh:case gh:p=Sg;break;case vh:p=$g;break;case"scroll":p=gg;break;case"wheel":p=Ug;break;case"copy":case"cut":case"paste":p=kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lu}var w=(e&4)!==0,_=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var g=u,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=Ln(g,m),S!=null&&w.push(Vn(g,S,y)))),_)break;g=g.return}0<w.length&&(h=new p(h,v,null,r,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==na&&(v=r.relatedTarget||r.fromElement)&&(nr(v)||v[pt]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?nr(v):null,v!==null&&(_=mr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=Iu,S="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=Lu,S="onPointerLeave",m="onPointerEnter",g="pointer"),_=p==null?h:Or(p),y=v==null?h:Or(v),h=new w(S,g+"leave",p,r,c),h.target=_,h.relatedTarget=y,S=null,nr(c)===u&&(w=new w(m,g+"enter",v,r,c),w.target=y,w.relatedTarget=_,S=w),_=S,p&&v)t:{for(w=p,m=v,g=0,y=w;y;y=vr(y))g++;for(y=0,S=m;S;S=vr(S))y++;for(;0<g-y;)w=vr(w),g--;for(;0<y-g;)m=vr(m),y--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=vr(w),m=vr(m)}w=null}else w=null;p!==null&&Ku(d,h,p,w,!1),v!==null&&_!==null&&Ku(d,_,v,w,!0)}}e:{if(h=u?Or(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=Wg;else if(Bu(h))if(uh)k=Gg;else{k=qg;var b=Hg}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Kg);if(k&&(k=k(t,u))){lh(d,k,r,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Xo(h,"number",h.value)}switch(b=u?Or(u):window,t){case"focusin":(Bu(b)||b.contentEditable==="true")&&(Tr=b,ca=u,On=null);break;case"focusout":On=ca=Tr=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Wu(d,r,c);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":Wu(d,r,c)}var j;if(kl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else jr?oh(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(ih&&r.locale!=="ko"&&(jr||R!=="onCompositionStart"?R==="onCompositionEnd"&&jr&&(j=sh()):(jt=c,_l="value"in jt?jt.value:jt.textContent,jr=!0)),b=li(u,R),0<b.length&&(R=new $u(R,t,null,r,c),d.push({event:R,listeners:b}),j?R.data=j:(j=ah(r),j!==null&&(R.data=j)))),(j=Bg?Mg(t,r):zg(t,r))&&(u=li(u,"onBeforeInput"),0<u.length&&(c=new $u("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=j))}wh(d,e)})}function Vn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function li(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ln(t,r),i!=null&&n.unshift(Vn(t,i,s)),i=Ln(t,e),i!=null&&n.push(Vn(t,i,s))),t=t.return}return n}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ku(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Ln(r,i),l!=null&&o.unshift(Vn(r,l,a))):s||(l=Ln(r,i),l!=null&&o.push(Vn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var tv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Gu(t){return(typeof t=="string"?t:""+t).replace(tv,`
`).replace(rv,"")}function ks(t,e,r){if(e=Gu(e),Gu(t)!==e&&r)throw Error(x(425))}function ui(){}var ha=null,fa=null;function pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ma=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(t){return Ju.resolve(null).then(t).catch(iv)}:ma;function iv(t){setTimeout(function(){throw t})}function jo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Bn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bn(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rn=Math.random().toString(36).slice(2),st="__reactFiber$"+rn,Wn="__reactProps$"+rn,pt="__reactContainer$"+rn,ga="__reactEvents$"+rn,ov="__reactListeners$"+rn,av="__reactHandles$"+rn;function nr(t){var e=t[st];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pt]||r[st]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Qu(t);t!==null;){if(r=t[st])return r;t=Qu(t)}return e}t=r,r=t.parentNode}return null}function is(t){return t=t[st]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Or(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function zi(t){return t[Wn]||null}var va=[],Rr=-1;function zt(t){return{current:t}}function W(t){0>Rr||(t.current=va[Rr],va[Rr]=null,Rr--)}function F(t,e){Rr++,va[Rr]=t.current,t.current=e}var Bt={},ye=zt(Bt),Te=zt(!1),ur=Bt;function Hr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(t){return t=t.childContextTypes,t!=null}function ci(){W(Te),W(ye)}function Yu(t,e,r){if(ye.current!==Bt)throw Error(x(168));F(ye,e),F(Te,r)}function Sh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(x(108,Hm(t)||"Unknown",s));return J({},r,n)}function di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,ur=ye.current,F(ye,t),F(Te,Te.current),!0}function Xu(t,e,r){var n=t.stateNode;if(!n)throw Error(x(169));r?(t=Sh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,W(Te),W(ye),F(ye,t)):W(Te),F(Te,r)}var ut=null,Fi=!1,To=!1;function Eh(t){ut===null?ut=[t]:ut.push(t)}function lv(t){Fi=!0,Eh(t)}function Ft(){if(!To&&ut!==null){To=!0;var t=0,e=B;try{var r=ut;for(B=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ut=null,Fi=!1}catch(s){throw ut!==null&&(ut=ut.slice(t+1)),Kd(gl,Ft),s}finally{B=e,To=!1}}return null}var Pr=[],Nr=0,hi=null,fi=0,De=[],Be=0,cr=null,ct=1,dt="";function Qt(t,e){Pr[Nr++]=fi,Pr[Nr++]=hi,hi=t,fi=e}function kh(t,e,r){De[Be++]=ct,De[Be++]=dt,De[Be++]=cr,cr=t;var n=ct;t=dt;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ct=1<<32-Xe(e)+s|r<<s|n,dt=i+t}else ct=1<<i|r<<s|n,dt=t}function bl(t){t.return!==null&&(Qt(t,1),kh(t,1,0))}function jl(t){for(;t===hi;)hi=Pr[--Nr],Pr[Nr]=null,fi=Pr[--Nr],Pr[Nr]=null;for(;t===cr;)cr=De[--Be],De[Be]=null,dt=De[--Be],De[Be]=null,ct=De[--Be],De[Be]=null}var Ae=null,Ne=null,q=!1,Ye=null;function xh(t,e){var r=Me(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Zu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Ne=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:ct,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Me(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ae=t,Ne=null,!0):!1;default:return!1}}function ya(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wa(t){if(q){var e=Ne;if(e){var r=e;if(!Zu(t,e)){if(ya(t))throw Error(x(418));e=Nt(r.nextSibling);var n=Ae;e&&Zu(t,e)?xh(n,r):(t.flags=t.flags&-4097|2,q=!1,Ae=t)}}else{if(ya(t))throw Error(x(418));t.flags=t.flags&-4097|2,q=!1,Ae=t}}}function ec(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function xs(t){if(t!==Ae)return!1;if(!q)return ec(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pa(t.type,t.memoizedProps)),e&&(e=Ne)){if(ya(t))throw bh(),Error(x(418));for(;e;)xh(t,e),e=Nt(e.nextSibling)}if(ec(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ne=Nt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Ae?Nt(t.stateNode.nextSibling):null;return!0}function bh(){for(var t=Ne;t;)t=Nt(t.nextSibling)}function qr(){Ne=Ae=null,q=!1}function Tl(t){Ye===null?Ye=[t]:Ye.push(t)}var uv=vt.ReactCurrentBatchConfig;function gn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(x(309));var n=r.stateNode}if(!n)throw Error(x(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!r._owner)throw Error(x(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tc(t){var e=t._init;return e(t._payload)}function jh(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Lt(m,g),m.index=0,m.sibling=null,m}function i(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,S){return g===null||g.tag!==6?(g=Io(y,m.mode,S),g.return=m,g):(g=s(g,y),g.return=m,g)}function l(m,g,y,S){var k=y.type;return k===br?c(m,g,y.props.children,S,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_t&&tc(k)===g.type)?(S=s(g,y.props),S.ref=gn(m,g,y),S.return=m,S):(S=Qs(y.type,y.key,y.props,null,m.mode,S),S.ref=gn(m,g,y),S.return=m,S)}function u(m,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=$o(y,m.mode,S),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function c(m,g,y,S,k){return g===null||g.tag!==7?(g=lr(y,m.mode,S,k),g.return=m,g):(g=s(g,y),g.return=m,g)}function d(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Io(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return y=Qs(g.type,g.key,g.props,null,m.mode,y),y.ref=gn(m,null,g),y.return=m,y;case xr:return g=$o(g,m.mode,y),g.return=m,g;case _t:var S=g._init;return d(m,S(g._payload),y)}if(_n(g)||dn(g))return g=lr(g,m.mode,y,null),g.return=m,g;bs(m,g)}return null}function h(m,g,y,S){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:return y.key===k?l(m,g,y,S):null;case xr:return y.key===k?u(m,g,y,S):null;case _t:return k=y._init,h(m,g,k(y._payload),S)}if(_n(y)||dn(y))return k!==null?null:c(m,g,y,S,null);bs(m,y)}return null}function p(m,g,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(g,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ps:return m=m.get(S.key===null?y:S.key)||null,l(g,m,S,k);case xr:return m=m.get(S.key===null?y:S.key)||null,u(g,m,S,k);case _t:var b=S._init;return p(m,g,y,b(S._payload),k)}if(_n(S)||dn(S))return m=m.get(y)||null,c(g,m,S,k,null);bs(g,S)}return null}function v(m,g,y,S){for(var k=null,b=null,j=g,R=g=0,D=null;j!==null&&R<y.length;R++){j.index>R?(D=j,j=null):D=j.sibling;var L=h(m,j,y[R],S);if(L===null){j===null&&(j=D);break}t&&j&&L.alternate===null&&e(m,j),g=i(L,g,R),b===null?k=L:b.sibling=L,b=L,j=D}if(R===y.length)return r(m,j),q&&Qt(m,R),k;if(j===null){for(;R<y.length;R++)j=d(m,y[R],S),j!==null&&(g=i(j,g,R),b===null?k=j:b.sibling=j,b=j);return q&&Qt(m,R),k}for(j=n(m,j);R<y.length;R++)D=p(j,m,R,y[R],S),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?R:D.key),g=i(D,g,R),b===null?k=D:b.sibling=D,b=D);return t&&j.forEach(function(We){return e(m,We)}),q&&Qt(m,R),k}function w(m,g,y,S){var k=dn(y);if(typeof k!="function")throw Error(x(150));if(y=k.call(y),y==null)throw Error(x(151));for(var b=k=null,j=g,R=g=0,D=null,L=y.next();j!==null&&!L.done;R++,L=y.next()){j.index>R?(D=j,j=null):D=j.sibling;var We=h(m,j,L.value,S);if(We===null){j===null&&(j=D);break}t&&j&&We.alternate===null&&e(m,j),g=i(We,g,R),b===null?k=We:b.sibling=We,b=We,j=D}if(L.done)return r(m,j),q&&Qt(m,R),k;if(j===null){for(;!L.done;R++,L=y.next())L=d(m,L.value,S),L!==null&&(g=i(L,g,R),b===null?k=L:b.sibling=L,b=L);return q&&Qt(m,R),k}for(j=n(m,j);!L.done;R++,L=y.next())L=p(j,m,R,L.value,S),L!==null&&(t&&L.alternate!==null&&j.delete(L.key===null?R:L.key),g=i(L,g,R),b===null?k=L:b.sibling=L,b=L);return t&&j.forEach(function(un){return e(m,un)}),q&&Qt(m,R),k}function _(m,g,y,S){if(typeof y=="object"&&y!==null&&y.type===br&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:e:{for(var k=y.key,b=g;b!==null;){if(b.key===k){if(k=y.type,k===br){if(b.tag===7){r(m,b.sibling),g=s(b,y.props.children),g.return=m,m=g;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_t&&tc(k)===b.type){r(m,b.sibling),g=s(b,y.props),g.ref=gn(m,b,y),g.return=m,m=g;break e}r(m,b);break}else e(m,b);b=b.sibling}y.type===br?(g=lr(y.props.children,m.mode,S,y.key),g.return=m,m=g):(S=Qs(y.type,y.key,y.props,null,m.mode,S),S.ref=gn(m,g,y),S.return=m,m=S)}return o(m);case xr:e:{for(b=y.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(m,g.sibling),g=s(g,y.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=$o(y,m.mode,S),g.return=m,m=g}return o(m);case _t:return b=y._init,_(m,g,b(y._payload),S)}if(_n(y))return v(m,g,y,S);if(dn(y))return w(m,g,y,S);bs(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(m,g.sibling),g=s(g,y),g.return=m,m=g):(r(m,g),g=Io(y,m.mode,S),g.return=m,m=g),o(m)):r(m,g)}return _}var Kr=jh(!0),Th=jh(!1),pi=zt(null),mi=null,Ar=null,Cl=null;function Ol(){Cl=Ar=mi=null}function Rl(t){var e=pi.current;W(pi),t._currentValue=e}function _a(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mr(t,e){mi=t,Cl=Ar=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(Cl!==t)if(t={context:t,memoizedValue:e,next:null},Ar===null){if(mi===null)throw Error(x(308));Ar=t,mi.dependencies={lanes:0,firstContext:t}}else Ar=Ar.next=t;return e}var sr=null;function Pl(t){sr===null?sr=[t]:sr.push(t)}function Ch(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Pl(e)):(r.next=s.next,s.next=r),e.interleaved=r,mt(t,n)}function mt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var St=!1;function Nl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mt(t,r)}return s=n.interleaved,s===null?(e.next=e,Pl(n)):(e.next=s.next,s.next=e),n.interleaved=e,mt(t,r)}function Ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,vl(t,r)}}function rc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gi(t,e,r,n){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,p=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=J({},d,h);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=d}}function nc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(x(191,s));s.call(n)}}}var os={},ot=zt(os),Hn=zt(os),qn=zt(os);function ir(t){if(t===os)throw Error(x(174));return t}function Al(t,e){switch(F(qn,e),F(Hn,t),F(ot,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ea(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ea(e,t)}W(ot),F(ot,e)}function Gr(){W(ot),W(Hn),W(qn)}function Rh(t){ir(qn.current);var e=ir(ot.current),r=ea(e,t.type);e!==r&&(F(Hn,t),F(ot,r))}function Il(t){Hn.current===t&&(W(ot),W(Hn))}var K=zt(0);function vi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Co=[];function $l(){for(var t=0;t<Co.length;t++)Co[t]._workInProgressVersionPrimary=null;Co.length=0}var Hs=vt.ReactCurrentDispatcher,Oo=vt.ReactCurrentBatchConfig,dr=0,G=null,ne=null,oe=null,yi=!1,Rn=!1,Kn=0,cv=0;function pe(){throw Error(x(321))}function Ll(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function Ul(t,e,r,n,s,i){if(dr=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hs.current=t===null||t.memoizedState===null?pv:mv,t=r(n,s),Rn){i=0;do{if(Rn=!1,Kn=0,25<=i)throw Error(x(301));i+=1,oe=ne=null,e.updateQueue=null,Hs.current=gv,t=r(n,s)}while(Rn)}if(Hs.current=wi,e=ne!==null&&ne.next!==null,dr=0,oe=ne=G=null,yi=!1,e)throw Error(x(300));return t}function Dl(){var t=Kn!==0;return Kn=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?G.memoizedState=oe=t:oe=oe.next=t,oe}function Ve(){if(ne===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=oe===null?G.memoizedState:oe.next;if(e!==null)oe=e,ne=t;else{if(t===null)throw Error(x(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},oe===null?G.memoizedState=oe=t:oe=oe.next=t}return oe}function Gn(t,e){return typeof e=="function"?e(t):e}function Ro(t){var e=Ve(),r=e.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=t;var n=ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,G.lanes|=c,hr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,et(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Po(t){var e=Ve(),r=e.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ph(){}function Nh(t,e){var r=G,n=Ve(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,Bl($h.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Jn(9,Ih.bind(null,r,n,s,e),void 0,null),ae===null)throw Error(x(349));dr&30||Ah(r,e,s)}return s}function Ah(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ih(t,e,r,n){e.value=r,e.getSnapshot=n,Lh(e)&&Uh(t)}function $h(t,e,r){return r(function(){Lh(e)&&Uh(t)})}function Lh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function Uh(t){var e=mt(t,1);e!==null&&Ze(e,t,1,-1)}function sc(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:t},e.queue=t,t=t.dispatch=fv.bind(null,G,t),[e.memoizedState,t]}function Jn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Dh(){return Ve().memoizedState}function qs(t,e,r,n){var s=rt();G.flags|=t,s.memoizedState=Jn(1|e,r,void 0,n===void 0?null:n)}function Vi(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,n!==null&&Ll(n,o.deps)){s.memoizedState=Jn(e,r,i,n);return}}G.flags|=t,s.memoizedState=Jn(1|e,r,i,n)}function ic(t,e){return qs(8390656,8,t,e)}function Bl(t,e){return Vi(2048,8,t,e)}function Bh(t,e){return Vi(4,2,t,e)}function Mh(t,e){return Vi(4,4,t,e)}function zh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fh(t,e,r){return r=r!=null?r.concat([t]):null,Vi(4,4,zh.bind(null,e,t),r)}function Ml(){}function Vh(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ll(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Wh(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ll(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Hh(t,e,r){return dr&21?(et(r,e)||(r=Qd(),G.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function dv(t,e){var r=B;B=r!==0&&4>r?r:4,t(!0);var n=Oo.transition;Oo.transition={};try{t(!1),e()}finally{B=r,Oo.transition=n}}function qh(){return Ve().memoizedState}function hv(t,e,r){var n=$t(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kh(t))Gh(e,r);else if(r=Ch(t,e,r,n),r!==null){var s=_e();Ze(r,t,n,s),Jh(r,e,n)}}function fv(t,e,r){var n=$t(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kh(t))Gh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(s.next=s,Pl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ch(t,e,s,n),r!==null&&(s=_e(),Ze(r,t,n,s),Jh(r,e,n))}}function Kh(t){var e=t.alternate;return t===G||e!==null&&e===G}function Gh(t,e){Rn=yi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,vl(t,r)}}var wi={readContext:Fe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},pv={readContext:Fe,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:ic,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,qs(4194308,4,zh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return qs(4194308,4,t,e)},useInsertionEffect:function(t,e){return qs(4,2,t,e)},useMemo:function(t,e){var r=rt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hv.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:sc,useDebugValue:Ml,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=sc(!1),e=t[0];return t=dv.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=G,s=rt();if(q){if(r===void 0)throw Error(x(407));r=r()}else{if(r=e(),ae===null)throw Error(x(349));dr&30||Ah(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ic($h.bind(null,n,i,t),[t]),n.flags|=2048,Jn(9,Ih.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rt(),e=ae.identifierPrefix;if(q){var r=dt,n=ct;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mv={readContext:Fe,useCallback:Vh,useContext:Fe,useEffect:Bl,useImperativeHandle:Fh,useInsertionEffect:Bh,useLayoutEffect:Mh,useMemo:Wh,useReducer:Ro,useRef:Dh,useState:function(){return Ro(Gn)},useDebugValue:Ml,useDeferredValue:function(t){var e=Ve();return Hh(e,ne.memoizedState,t)},useTransition:function(){var t=Ro(Gn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Ph,useSyncExternalStore:Nh,useId:qh,unstable_isNewReconciler:!1},gv={readContext:Fe,useCallback:Vh,useContext:Fe,useEffect:Bl,useImperativeHandle:Fh,useInsertionEffect:Bh,useLayoutEffect:Mh,useMemo:Wh,useReducer:Po,useRef:Dh,useState:function(){return Po(Gn)},useDebugValue:Ml,useDeferredValue:function(t){var e=Ve();return ne===null?e.memoizedState=t:Hh(e,ne.memoizedState,t)},useTransition:function(){var t=Po(Gn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Ph,useSyncExternalStore:Nh,useId:qh,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Sa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:J({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wi={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_e(),s=$t(t),i=ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_e(),s=$t(t),i=ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_e(),n=$t(t),s=ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Ze(e,t,n,r),Ws(e,t,n))}};function oc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!zn(r,n)||!zn(s,i):!0}function Qh(t,e,r){var n=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ce(e)?ur:ye.current,n=e.contextTypes,i=(n=n!=null)?Hr(t,s):Bt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ac(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wi.enqueueReplaceState(e,e.state,null)}function Ea(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Nl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ce(e)?ur:ye.current,s.context=Hr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wi.enqueueReplaceState(s,s.state,null),gi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var r="",n=e;do r+=Wm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function No(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ka(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vv=typeof WeakMap=="function"?WeakMap:Map;function Yh(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Si||(Si=!0,Aa=n),ka(t,e)},r}function Xh(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ka(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ka(t,e),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function lc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Pv.bind(null,t,e,r),e.then(t,t))}function uc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var yv=vt.ReactCurrentOwner,je=!1;function we(t,e,r,n){e.child=t===null?Th(e,null,r,n):Kr(e,t.child,r,n)}function dc(t,e,r,n,s){r=r.render;var i=e.ref;return Mr(e,s),n=Ul(t,e,r,n,i,s),r=Dl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&r&&bl(e),e.flags|=1,we(t,e,n,s),e.child)}function hc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Zh(t,e,i,n,s)):(t=Qs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(o,n)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=Lt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Zh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(zn(i,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,gt(t,e,s)}return xa(t,e,r,n,s)}function ef(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F($r,Re),Re|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F($r,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F($r,Re),Re|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,F($r,Re),Re|=n;return we(t,e,s,r),e.child}function tf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xa(t,e,r,n,s){var i=Ce(r)?ur:ye.current;return i=Hr(e,i),Mr(e,s),r=Ul(t,e,r,n,i,s),n=Dl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&n&&bl(e),e.flags|=1,we(t,e,r,s),e.child)}function fc(t,e,r,n,s){if(Ce(r)){var i=!0;di(e)}else i=!1;if(Mr(e,s),e.stateNode===null)Ks(t,e),Qh(e,r,n),Ea(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Ce(r)?ur:ye.current,u=Hr(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&ac(e,o,n,u),St=!1;var h=e.memoizedState;o.state=h,gi(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Te.current||St?(typeof c=="function"&&(Sa(e,r,c,n),l=e.memoizedState),(a=St||oc(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Oh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ke(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Ce(r)?ur:ye.current,l=Hr(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&ac(e,o,n,l),St=!1,h=e.memoizedState,o.state=h,gi(e,n,o,s);var v=e.memoizedState;a!==d||h!==v||Te.current||St?(typeof p=="function"&&(Sa(e,r,p,n),v=e.memoizedState),(u=St||oc(e,r,u,n,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ba(t,e,r,n,i,s)}function ba(t,e,r,n,s,i){tf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Xu(e,r,!1),gt(t,e,i);n=e.stateNode,yv.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Kr(e,t.child,null,i),e.child=Kr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&Xu(e,r,!0),e.child}function rf(t){var e=t.stateNode;e.pendingContext?Yu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yu(t,e.context,!1),Al(t,e.containerInfo)}function pc(t,e,r,n,s){return qr(),Tl(s),e.flags|=256,we(t,e,r,n),e.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function nf(t,e,r){var n=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(K,s&1),t===null)return wa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ki(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ta(r),e.memoizedState=ja,t):zl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wv(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Lt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Lt(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ta(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ja,n}return i=t.child,t=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zl(t,e){return e=Ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,r,n){return n!==null&&Tl(n),Kr(e,t.child,null,r),t=zl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wv(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=No(Error(x(422))),js(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ki({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Kr(e,t.child,null,o),e.child.memoizedState=Ta(o),e.memoizedState=ja,i);if(!(e.mode&1))return js(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(x(419)),n=No(i,n,void 0),js(t,e,o,n)}if(a=(o&t.childLanes)!==0,je||a){if(n=ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Ze(n,t,s,-1))}return Kl(),n=No(Error(x(421))),js(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ne=Nt(s.nextSibling),Ae=e,q=!0,Ye=null,t!==null&&(De[Be++]=ct,De[Be++]=dt,De[Be++]=cr,ct=t.id,dt=t.overflow,cr=e),e=zl(e,n.children),e.flags|=4096,e)}function mc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_a(t.return,e,r)}function Ao(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=K.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mc(t,r,e);else if(t.tag===19)mc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(F(K,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&vi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ao(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ao(e,!0,r,null,i);break;case"together":Ao(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,r=Lt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _v(t,e,r){switch(e.tag){case 3:rf(e),qr();break;case 5:Rh(e);break;case 1:Ce(e.type)&&di(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;F(pi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(F(K,K.current&1),e.flags|=128,null):r&e.child.childLanes?nf(t,e,r):(F(K,K.current&1),t=gt(t,e,r),t!==null?t.sibling:null);F(K,K.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(K,K.current),n)break;return null;case 22:case 23:return e.lanes=0,ef(t,e,r)}return gt(t,e,r)}var of,Ca,af,lf;of=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ca=function(){};af=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ir(ot.current);var i=null;switch(r){case"input":s=Qo(t,s),n=Qo(t,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=Zo(t,s),n=Zo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ui)}ta(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(In.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(In.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&V("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};lf=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Sv(t,e,r){var n=e.pendingProps;switch(jl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Ce(e.type)&&ci(),me(e),null;case 3:return n=e.stateNode,Gr(),W(Te),W(ye),$l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(La(Ye),Ye=null))),Ca(t,e),me(e),null;case 5:Il(e);var s=ir(qn.current);if(r=e.type,t!==null&&e.stateNode!=null)af(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(x(166));return me(e),null}if(t=ir(ot.current),xs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[st]=e,n[Wn]=i,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<En.length;s++)V(En[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":xu(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":ju(n,i),V("invalid",n)}ta(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",""+a]):In.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":ms(n),bu(n,i,!0);break;case"textarea":ms(n),Tu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$d(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[st]=e,t[Wn]=n,of(t,e,!1,!1),e.stateNode=t;e:{switch(o=ra(r,n),r){case"dialog":V("cancel",t),V("close",t),s=n;break;case"iframe":case"object":case"embed":V("load",t),s=n;break;case"video":case"audio":for(s=0;s<En.length;s++)V(En[s],t);s=n;break;case"source":V("error",t),s=n;break;case"img":case"image":case"link":V("error",t),V("load",t),s=n;break;case"details":V("toggle",t),s=n;break;case"input":xu(t,n),s=Qo(t,n),V("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),V("invalid",t);break;case"textarea":ju(t,n),s=Zo(t,n),V("invalid",t);break;default:s=n}ta(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Dd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ld(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$n(t,l):typeof l=="number"&&$n(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(In.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",t):l!=null&&dl(t,i,l,o))}switch(r){case"input":ms(t),bu(t,n,!1);break;case"textarea":ms(t),Tu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Lr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Lr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)lf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(x(166));if(r=ir(qn.current),ir(ot.current),xs(e)){if(n=e.stateNode,r=e.memoizedProps,n[st]=e,(i=n.nodeValue!==r)&&(t=Ae,t!==null))switch(t.tag){case 3:ks(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[st]=e,e.stateNode=n}return me(e),null;case 13:if(W(K),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ne!==null&&e.mode&1&&!(e.flags&128))bh(),qr(),e.flags|=98560,i=!1;else if(i=xs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[st]=e}else qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Ye!==null&&(La(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?se===0&&(se=3):Kl())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Gr(),Ca(t,e),t===null&&Fn(e.stateNode.containerInfo),me(e),null;case 10:return Rl(e.type._context),me(e),null;case 17:return Ce(e.type)&&ci(),me(e),null;case 19:if(W(K),i=e.memoizedState,i===null)return me(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vi(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return F(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Qr&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=vi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return me(e),null}else 2*X()-i.renderingStartTime>Qr&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,r=K.current,F(K,n?r&1|2:r&1),e):(me(e),null);case 22:case 23:return ql(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Re&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Ev(t,e){switch(jl(e),e.tag){case 1:return Ce(e.type)&&ci(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),W(Te),W(ye),$l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Il(e),null;case 13:if(W(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(K),null;case 4:return Gr(),null;case 10:return Rl(e.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var Ts=!1,ge=!1,kv=typeof WeakSet=="function"?WeakSet:Set,T=null;function Ir(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function Oa(t,e,r){try{r()}catch(n){Q(t,e,n)}}var gc=!1;function xv(t,e){if(ha=oi,t=hh(),xl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(fa={focusedElem:t,selectionRange:r},oi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ke(e.type,w),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(S){Q(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=gc,gc=!1,v}function Pn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oa(e,r,i)}s=s.next}while(s!==n)}}function Hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ra(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function uf(t){var e=t.alternate;e!==null&&(t.alternate=null,uf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Wn],delete e[ga],delete e[ov],delete e[av])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cf(t){return t.tag===5||t.tag===3||t.tag===4}function vc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ui));else if(n!==4&&(t=t.child,t!==null))for(Pa(t,e,r),t=t.sibling;t!==null;)Pa(t,e,r),t=t.sibling}function Na(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Na(t,e,r),t=t.sibling;t!==null;)Na(t,e,r),t=t.sibling}var de=null,Je=!1;function wt(t,e,r){for(r=r.child;r!==null;)df(t,e,r),r=r.sibling}function df(t,e,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:ge||Ir(r,e);case 6:var n=de,s=Je;de=null,wt(t,e,r),de=n,Je=s,de!==null&&(Je?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Je?(t=de,r=r.stateNode,t.nodeType===8?jo(t.parentNode,r):t.nodeType===1&&jo(t,r),Bn(t)):jo(de,r.stateNode));break;case 4:n=de,s=Je,de=r.stateNode.containerInfo,Je=!0,wt(t,e,r),de=n,Je=s;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oa(r,e,o),s=s.next}while(s!==n)}wt(t,e,r);break;case 1:if(!ge&&(Ir(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Q(r,e,a)}wt(t,e,r);break;case 21:wt(t,e,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,wt(t,e,r),ge=n):wt(t,e,r);break;default:wt(t,e,r)}}function yc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new kv),e.forEach(function(n){var s=Av.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function He(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Je=!1;break e;case 3:de=a.stateNode.containerInfo,Je=!0;break e;case 4:de=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(de===null)throw Error(x(160));df(i,o,s),de=null,Je=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hf(e,t),e=e.sibling}function hf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),tt(t),n&4){try{Pn(3,t,t.return),Hi(3,t)}catch(w){Q(t,t.return,w)}try{Pn(5,t,t.return)}catch(w){Q(t,t.return,w)}}break;case 1:He(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(He(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return),t.flags&32){var s=t.stateNode;try{$n(s,"")}catch(w){Q(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ad(s,i),ra(a,o);var u=ra(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Dd(s,d):c==="dangerouslySetInnerHTML"?Ld(s,d):c==="children"?$n(s,d):dl(s,c,d,u)}switch(a){case"input":Yo(s,i);break;case"textarea":Id(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Lr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Lr(s,!!i.multiple,i.defaultValue,!0):Lr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wn]=i}catch(w){Q(t,t.return,w)}}break;case 6:if(He(e,t),tt(t),n&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Q(t,t.return,w)}}break;case 3:if(He(e,t),tt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bn(e.containerInfo)}catch(w){Q(t,t.return,w)}break;case 4:He(e,t),tt(t);break;case 13:He(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wl=X())),n&4&&yc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ge=(u=ge)||c,He(e,t),ge=u):He(e,t),tt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(d=T=c;T!==null;){switch(h=T,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pn(4,h,h.return);break;case 1:Ir(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Q(n,r,w)}}break;case 5:Ir(h,h.return);break;case 22:if(h.memoizedState!==null){_c(d);continue}}p!==null?(p.return=h,T=p):_c(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ud("display",o))}catch(w){Q(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Q(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:He(e,t),tt(t),n&4&&yc(t);break;case 21:break;default:He(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(cf(r)){var n=r;break e}r=r.return}throw Error(x(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($n(s,""),n.flags&=-33);var i=vc(t);Na(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=vc(t);Pa(t,a,o);break;default:throw Error(x(161))}}catch(l){Q(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bv(t,e,r){T=t,ff(t)}function ff(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ge;a=Ts;var u=ge;if(Ts=o,(ge=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?Sc(s):l!==null?(l.return=o,T=l):Sc(s);for(;i!==null;)T=i,ff(i),i=i.sibling;T=s,Ts=a,ge=u}wc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):wc(t)}}function wc(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||Hi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ge)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ke(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}nc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ge||e.flags&512&&Ra(e)}catch(h){Q(e,e.return,h)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function _c(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function Sc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hi(4,e)}catch(l){Q(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Q(e,s,l)}}var i=e.return;try{Ra(e)}catch(l){Q(e,i,l)}break;case 5:var o=e.return;try{Ra(e)}catch(l){Q(e,o,l)}}}catch(l){Q(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var jv=Math.ceil,_i=vt.ReactCurrentDispatcher,Fl=vt.ReactCurrentOwner,ze=vt.ReactCurrentBatchConfig,U=0,ae=null,re=null,he=0,Re=0,$r=zt(0),se=0,Qn=null,hr=0,qi=0,Vl=0,Nn=null,xe=null,Wl=0,Qr=1/0,lt=null,Si=!1,Aa=null,It=null,Cs=!1,Tt=null,Ei=0,An=0,Ia=null,Gs=-1,Js=0;function _e(){return U&6?X():Gs!==-1?Gs:Gs=X()}function $t(t){return t.mode&1?U&2&&he!==0?he&-he:uv.transition!==null?(Js===0&&(Js=Qd()),Js):(t=B,t!==0||(t=window.event,t=t===void 0?16:nh(t.type)),t):1}function Ze(t,e,r,n){if(50<An)throw An=0,Ia=null,Error(x(185));ns(t,r,n),(!(U&2)||t!==ae)&&(t===ae&&(!(U&2)&&(qi|=r),se===4&&kt(t,he)),Oe(t,n),r===1&&U===0&&!(e.mode&1)&&(Qr=X()+500,Fi&&Ft()))}function Oe(t,e){var r=t.callbackNode;ug(t,e);var n=ii(t,t===ae?he:0);if(n===0)r!==null&&Ru(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ru(r),e===1)t.tag===0?lv(Ec.bind(null,t)):Eh(Ec.bind(null,t)),sv(function(){!(U&6)&&Ft()}),r=null;else{switch(Yd(n)){case 1:r=gl;break;case 4:r=Gd;break;case 16:r=si;break;case 536870912:r=Jd;break;default:r=si}r=Sf(r,pf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pf(t,e){if(Gs=-1,Js=0,U&6)throw Error(x(327));var r=t.callbackNode;if(zr()&&t.callbackNode!==r)return null;var n=ii(t,t===ae?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ki(t,n);else{e=n;var s=U;U|=2;var i=gf();(ae!==t||he!==e)&&(lt=null,Qr=X()+500,ar(t,e));do try{Ov();break}catch(a){mf(t,a)}while(!0);Ol(),_i.current=i,U=s,re!==null?e=0:(ae=null,he=0,e=se)}if(e!==0){if(e===2&&(s=aa(t),s!==0&&(n=s,e=$a(t,s))),e===1)throw r=Qn,ar(t,0),kt(t,n),Oe(t,X()),r;if(e===6)kt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Tv(s)&&(e=ki(t,n),e===2&&(i=aa(t),i!==0&&(n=i,e=$a(t,i))),e===1))throw r=Qn,ar(t,0),kt(t,n),Oe(t,X()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(x(345));case 2:Yt(t,xe,lt);break;case 3:if(kt(t,n),(n&130023424)===n&&(e=Wl+500-X(),10<e)){if(ii(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){_e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ma(Yt.bind(null,t,xe,lt),e);break}Yt(t,xe,lt);break;case 4:if(kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=X()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jv(n/1960))-n,10<n){t.timeoutHandle=ma(Yt.bind(null,t,xe,lt),n);break}Yt(t,xe,lt);break;case 5:Yt(t,xe,lt);break;default:throw Error(x(329))}}}return Oe(t,X()),t.callbackNode===r?pf.bind(null,t):null}function $a(t,e){var r=Nn;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=ki(t,e),t!==2&&(e=xe,xe=r,e!==null&&La(e)),t}function La(t){xe===null?xe=t:xe.push.apply(xe,t)}function Tv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kt(t,e){for(e&=~Vl,e&=~qi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function Ec(t){if(U&6)throw Error(x(327));zr();var e=ii(t,0);if(!(e&1))return Oe(t,X()),null;var r=ki(t,e);if(t.tag!==0&&r===2){var n=aa(t);n!==0&&(e=n,r=$a(t,n))}if(r===1)throw r=Qn,ar(t,0),kt(t,e),Oe(t,X()),r;if(r===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,xe,lt),Oe(t,X()),null}function Hl(t,e){var r=U;U|=1;try{return t(e)}finally{U=r,U===0&&(Qr=X()+500,Fi&&Ft())}}function fr(t){Tt!==null&&Tt.tag===0&&!(U&6)&&zr();var e=U;U|=1;var r=ze.transition,n=B;try{if(ze.transition=null,B=1,t)return t()}finally{B=n,ze.transition=r,U=e,!(U&6)&&Ft()}}function ql(){Re=$r.current,W($r)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nv(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(jl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ci();break;case 3:Gr(),W(Te),W(ye),$l();break;case 5:Il(n);break;case 4:Gr();break;case 13:W(K);break;case 19:W(K);break;case 10:Rl(n.type._context);break;case 22:case 23:ql()}r=r.return}if(ae=t,re=t=Lt(t.current,null),he=Re=e,se=0,Qn=null,Vl=qi=hr=0,xe=Nn=null,sr!==null){for(e=0;e<sr.length;e++)if(r=sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return t}function mf(t,e){do{var r=re;try{if(Ol(),Hs.current=wi,yi){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yi=!1}if(dr=0,oe=ne=G=null,Rn=!1,Kn=0,Fl.current=null,r===null||r.return===null){se=1,Qn=e,re=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=uc(o);if(p!==null){p.flags&=-257,cc(p,o,a,i,e),p.mode&1&&lc(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){lc(i,u,e),Kl();break e}l=Error(x(426))}}else if(q&&a.mode&1){var _=uc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),cc(_,o,a,i,e),Tl(Jr(l,a));break e}}i=l=Jr(l,a),se!==4&&(se=2),Nn===null?Nn=[i]:Nn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Yh(i,l,e);rc(i,m);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(It===null||!It.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Xh(i,a,e);rc(i,S);break e}}i=i.return}while(i!==null)}yf(r)}catch(k){e=k,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function gf(){var t=_i.current;return _i.current=wi,t===null?wi:t}function Kl(){(se===0||se===3||se===2)&&(se=4),ae===null||!(hr&268435455)&&!(qi&268435455)||kt(ae,he)}function ki(t,e){var r=U;U|=2;var n=gf();(ae!==t||he!==e)&&(lt=null,ar(t,e));do try{Cv();break}catch(s){mf(t,s)}while(!0);if(Ol(),U=r,_i.current=n,re!==null)throw Error(x(261));return ae=null,he=0,se}function Cv(){for(;re!==null;)vf(re)}function Ov(){for(;re!==null&&!eg();)vf(re)}function vf(t){var e=_f(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?yf(t):re=e,Fl.current=null}function yf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ev(r,e),r!==null){r.flags&=32767,re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,re=null;return}}else if(r=Sv(r,e,Re),r!==null){re=r;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);se===0&&(se=5)}function Yt(t,e,r){var n=B,s=ze.transition;try{ze.transition=null,B=1,Rv(t,e,r,n)}finally{ze.transition=s,B=n}return null}function Rv(t,e,r,n){do zr();while(Tt!==null);if(U&6)throw Error(x(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(cg(t,i),t===ae&&(re=ae=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,Sf(si,function(){return zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=B;B=1;var a=U;U|=4,Fl.current=null,xv(t,r),hf(r,t),Qg(fa),oi=!!ha,fa=ha=null,t.current=r,bv(r),tg(),U=a,B=o,ze.transition=i}else t.current=r;if(Cs&&(Cs=!1,Tt=t,Ei=s),i=t.pendingLanes,i===0&&(It=null),sg(r.stateNode),Oe(t,X()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Si)throw Si=!1,t=Aa,Aa=null,t;return Ei&1&&t.tag!==0&&zr(),i=t.pendingLanes,i&1?t===Ia?An++:(An=0,Ia=t):An=0,Ft(),null}function zr(){if(Tt!==null){var t=Yd(Ei),e=ze.transition,r=B;try{if(ze.transition=null,B=16>t?16:t,Tt===null)var n=!1;else{if(t=Tt,Tt=null,Ei=0,U&6)throw Error(x(331));var s=U;for(U|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:Pn(8,c,i)}var d=c.child;if(d!==null)d.return=c,T=d;else for(;T!==null;){c=T;var h=c.sibling,p=c.return;if(uf(c),c===u){T=null;break}if(h!==null){h.return=p,T=h;break}T=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var g=t.current;for(T=g;T!==null;){o=T;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,T=y;else e:for(o=g;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hi(9,a)}}catch(k){Q(a,a.return,k)}if(a===o){T=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,T=S;break e}T=a.return}}if(U=s,Ft(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ui,t)}catch{}n=!0}return n}finally{B=r,ze.transition=e}}return!1}function kc(t,e,r){e=Jr(r,e),e=Yh(t,e,1),t=At(t,e,1),e=_e(),t!==null&&(ns(t,1,e),Oe(t,e))}function Q(t,e,r){if(t.tag===3)kc(t,t,r);else for(;e!==null;){if(e.tag===3){kc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){t=Jr(r,t),t=Xh(e,t,1),e=At(e,t,1),t=_e(),e!==null&&(ns(e,1,t),Oe(e,t));break}}e=e.return}}function Pv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(he&r)===r&&(se===4||se===3&&(he&130023424)===he&&500>X()-Wl?ar(t,0):Vl|=r),Oe(t,e)}function wf(t,e){e===0&&(t.mode&1?(e=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):e=1);var r=_e();t=mt(t,e),t!==null&&(ns(t,e,r),Oe(t,r))}function Nv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wf(t,r)}function Av(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(x(314))}n!==null&&n.delete(e),wf(t,r)}var _f;_f=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,_v(t,e,r);je=!!(t.flags&131072)}else je=!1,q&&e.flags&1048576&&kh(e,fi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ks(t,e),t=e.pendingProps;var s=Hr(e,ye.current);Mr(e,r),s=Ul(null,e,n,t,s,r);var i=Dl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(n)?(i=!0,di(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nl(e),s.updater=Wi,e.stateNode=s,s._reactInternals=e,Ea(e,n,t,r),e=ba(null,e,n,!0,i,r)):(e.tag=0,q&&i&&bl(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ks(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=$v(n),t=Ke(n,t),s){case 0:e=xa(null,e,n,t,r);break e;case 1:e=fc(null,e,n,t,r);break e;case 11:e=dc(null,e,n,t,r);break e;case 14:e=hc(null,e,n,Ke(n.type,t),r);break e}throw Error(x(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),xa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),fc(t,e,n,s,r);case 3:e:{if(rf(e),t===null)throw Error(x(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Oh(t,e),gi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jr(Error(x(423)),e),e=pc(t,e,n,r,s);break e}else if(n!==s){s=Jr(Error(x(424)),e),e=pc(t,e,n,r,s);break e}else for(Ne=Nt(e.stateNode.containerInfo.firstChild),Ae=e,q=!0,Ye=null,r=Th(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),n===s){e=gt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return Rh(e),t===null&&wa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,pa(n,s)?o=null:i!==null&&pa(n,i)&&(e.flags|=32),tf(t,e),we(t,e,o,r),e.child;case 6:return t===null&&wa(e),null;case 13:return nf(t,e,r);case 4:return Al(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),dc(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(pi,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Te.current){e=gt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ht(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_a(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),_a(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Mr(e,r),s=Fe(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Ke(n,e.pendingProps),s=Ke(n.type,s),hc(t,e,n,s,r);case 15:return Zh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),Ks(t,e),e.tag=1,Ce(n)?(t=!0,di(e)):t=!1,Mr(e,r),Qh(e,n,s),Ea(e,n,s,r),ba(null,e,n,!0,t,r);case 19:return sf(t,e,r);case 22:return ef(t,e,r)}throw Error(x(156,e.tag))};function Sf(t,e){return Kd(t,e)}function Iv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,r,n){return new Iv(t,e,r,n)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $v(t){if(typeof t=="function")return Gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fl)return 11;if(t===pl)return 14}return 2}function Lt(t,e){var r=t.alternate;return r===null?(r=Me(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Gl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case br:return lr(r.children,s,i,e);case hl:o=8,s|=8;break;case qo:return t=Me(12,r,e,s|2),t.elementType=qo,t.lanes=i,t;case Ko:return t=Me(13,r,e,s),t.elementType=Ko,t.lanes=i,t;case Go:return t=Me(19,r,e,s),t.elementType=Go,t.lanes=i,t;case Rd:return Ki(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cd:o=10;break e;case Od:o=9;break e;case fl:o=11;break e;case pl:o=14;break e;case _t:o=16,n=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Me(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Me(7,t,n,e),t.lanes=r,t}function Ki(t,e,r,n){return t=Me(22,t,n,e),t.elementType=Rd,t.lanes=r,t.stateNode={isHidden:!1},t}function Io(t,e,r){return t=Me(6,t,null,e),t.lanes=r,t}function $o(t,e,r){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jl(t,e,r,n,s,i,o,a,l){return t=new Lv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Me(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(i),t}function Uv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ef(t){if(!t)return Bt;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var r=t.type;if(Ce(r))return Sh(t,r,e)}return e}function kf(t,e,r,n,s,i,o,a,l){return t=Jl(r,n,!0,t,s,i,o,a,l),t.context=Ef(null),r=t.current,n=_e(),s=$t(r),i=ht(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,ns(t,s,n),Oe(t,n),t}function Gi(t,e,r,n){var s=e.current,i=_e(),o=$t(s);return r=Ef(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,o),t!==null&&(Ze(t,s,o,i),Ws(t,s,o)),o}function xi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ql(t,e){xc(t,e),(t=t.alternate)&&xc(t,e)}function Dv(){return null}var xf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yl(t){this._internalRoot=t}Ji.prototype.render=Yl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Gi(t,e,null,null)};Ji.prototype.unmount=Yl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Gi(null,t,null,null)}),e[pt]=null}};function Ji(t){this._internalRoot=t}Ji.prototype.unstable_scheduleHydration=function(t){if(t){var e=eh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Et.length&&e!==0&&e<Et[r].priority;r++);Et.splice(r,0,t),r===0&&rh(t)}};function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bc(){}function Bv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=xi(o);i.call(u)}}var o=kf(e,n,t,0,null,!1,!1,"",bc);return t._reactRootContainer=o,t[pt]=o.current,Fn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=xi(l);a.call(u)}}var l=Jl(t,0,!1,null,null,!1,!1,"",bc);return t._reactRootContainer=l,t[pt]=l.current,Fn(t.nodeType===8?t.parentNode:t),fr(function(){Gi(e,l,r,n)}),l}function Yi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=xi(o);a.call(l)}}Gi(e,o,t,s)}else o=Bv(r,e,t,s,n);return xi(o)}Xd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sn(e.pendingLanes);r!==0&&(vl(e,r|1),Oe(e,X()),!(U&6)&&(Qr=X()+500,Ft()))}break;case 13:fr(function(){var n=mt(t,1);if(n!==null){var s=_e();Ze(n,t,1,s)}}),Ql(t,1)}};yl=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var r=_e();Ze(e,t,134217728,r)}Ql(t,134217728)}};Zd=function(t){if(t.tag===13){var e=$t(t),r=mt(t,e);if(r!==null){var n=_e();Ze(r,t,e,n)}Ql(t,e)}};eh=function(){return B};th=function(t,e){var r=B;try{return B=t,e()}finally{B=r}};sa=function(t,e,r){switch(e){case"input":if(Yo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zi(n);if(!s)throw Error(x(90));Nd(n),Yo(n,s)}}}break;case"textarea":Id(t,r);break;case"select":e=r.value,e!=null&&Lr(t,!!r.multiple,e,!1)}};zd=Hl;Fd=fr;var Mv={usingClientEntryPoint:!1,Events:[is,Or,zi,Bd,Md,Hl]},yn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zv={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hd(t),t===null?null:t.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ui=Os.inject(zv),it=Os}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;$e.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(e))throw Error(x(200));return Uv(t,e,null,r)};$e.createRoot=function(t,e){if(!Xl(t))throw Error(x(299));var r=!1,n="",s=xf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jl(t,1,!1,null,null,r,!1,n,s),t[pt]=e.current,Fn(t.nodeType===8?t.parentNode:t),new Yl(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Hd(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return fr(t)};$e.hydrate=function(t,e,r){if(!Qi(e))throw Error(x(200));return Yi(null,t,e,!0,r)};$e.hydrateRoot=function(t,e,r){if(!Xl(t))throw Error(x(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=kf(e,null,t,1,r??null,s,!1,i,o),t[pt]=e.current,Fn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ji(e)};$e.render=function(t,e,r){if(!Qi(e))throw Error(x(200));return Yi(null,t,e,!1,r)};$e.unmountComponentAtNode=function(t){if(!Qi(t))throw Error(x(40));return t._reactRootContainer?(fr(function(){Yi(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};$e.unstable_batchedUpdates=Hl;$e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qi(r))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Yi(t,e,r,!1,n)};$e.version="18.3.1-next-f1338f8080-20240426";function bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bf)}catch(t){console.error(t)}}bf(),xd.exports=$e;var Fv=xd.exports,jc=Fv;Wo.createRoot=jc.createRoot,Wo.hydrateRoot=jc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yn.apply(this,arguments)}var Ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ct||(Ct={}));const Tc="popstate";function Vv(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Ua("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:bi(s)}return Hv(e,r,null,t)}function Z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wv(){return Math.random().toString(36).substr(2,8)}function Cc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ua(t,e,r,n){return r===void 0&&(r=null),Yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nn(e):e,{state:r,key:e&&e.key||n||Wv()})}function bi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Hv(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ct.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Yn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ct.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:m})}function h(_,m){a=Ct.Push;let g=Ua(w.location,_,m);u=c()+1;let y=Cc(g,u),S=w.createHref(g);try{o.pushState(y,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:w.location,delta:1})}function p(_,m){a=Ct.Replace;let g=Ua(w.location,_,m);u=c();let y=Cc(g,u),S=w.createHref(g);o.replaceState(y,"",S),i&&l&&l({action:a,location:w.location,delta:0})}function v(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof _=="string"?_:bi(_);return g=g.replace(/ $/,"%20"),Z(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tc,d),l=_,()=>{s.removeEventListener(Tc,d),l=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let m=v(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(_){return o.go(_)}};return w}var Oc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oc||(Oc={}));function qv(t,e,r){return r===void 0&&(r="/"),Kv(t,e,r)}function Kv(t,e,r,n){let s=typeof e=="string"?nn(e):e,i=eu(s.pathname||"/",r);if(i==null)return null;let o=jf(t);Gv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=oy(i);a=ny(o[l],u)}return a}function jf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Z(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ut([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(Z(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jf(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ty(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Tf(i.path))s(i,o,l)}),e}function Tf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Tf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Gv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ry(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jv=/^:[\w-]+$/,Qv=3,Yv=2,Xv=1,Zv=10,ey=-2,Rc=t=>t==="*";function ty(t,e){let r=t.split("/"),n=r.length;return r.some(Rc)&&(n+=ey),e&&(n+=Yv),r.filter(s=>!Rc(s)).reduce((s,i)=>s+(Jv.test(i)?Qv:i===""?Xv:Zv),n)}function ry(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function ny(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=sy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ut([i,d.pathname]),pathnameBase:dy(Ut([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ut([i,d.pathnameBase]))}return o}function sy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=iy(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function iy(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Zl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function oy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ly=t=>ay.test(t);function uy(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?nn(t):t,i;if(r)if(ly(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Zl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Pc(r.substring(1),"/"):i=Pc(r,e)}else i=e;return{pathname:i,search:hy(n),hash:fy(s)}}function Pc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Lo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tu(t,e){let r=cy(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ru(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=nn(t):(s=Yn({},t),Z(!s.pathname||!s.pathname.includes("?"),Lo("?","pathname","search",s)),Z(!s.pathname||!s.pathname.includes("#"),Lo("#","pathname","hash",s)),Z(!s.search||!s.search.includes("#"),Lo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=uy(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ut=t=>t.join("/").replace(/\/\/+/g,"/"),dy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function py(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cf=["post","put","patch","delete"];new Set(Cf);const my=["get",...Cf];new Set(my);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}const nu=E.createContext(null),gy=E.createContext(null),Vt=E.createContext(null),Xi=E.createContext(null),Wt=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Of=E.createContext(null);function vy(t,e){let{relative:r}=e===void 0?{}:e;sn()||Z(!1);let{basename:n,navigator:s}=E.useContext(Vt),{hash:i,pathname:o,search:a}=Pf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ut([n,o])),s.createHref({pathname:l,search:a,hash:i})}function sn(){return E.useContext(Xi)!=null}function as(){return sn()||Z(!1),E.useContext(Xi).location}function Rf(t){E.useContext(Vt).static||E.useLayoutEffect(t)}function ls(){let{isDataRoute:t}=E.useContext(Wt);return t?Ry():yy()}function yy(){sn()||Z(!1);let t=E.useContext(nu),{basename:e,future:r,navigator:n}=E.useContext(Vt),{matches:s}=E.useContext(Wt),{pathname:i}=as(),o=JSON.stringify(tu(s,r.v7_relativeSplatPath)),a=E.useRef(!1);return Rf(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ru(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ut([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}function Pf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(Vt),{matches:s}=E.useContext(Wt),{pathname:i}=as(),o=JSON.stringify(tu(s,n.v7_relativeSplatPath));return E.useMemo(()=>ru(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function wy(t,e){return _y(t,e)}function _y(t,e,r,n){sn()||Z(!1);let{navigator:s}=E.useContext(Vt),{matches:i}=E.useContext(Wt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=as(),c;if(e){var d;let _=typeof e=="string"?nn(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Z(!1),c=_}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=qv(t,{pathname:p}),w=by(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ut([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ut([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?E.createElement(Xi.Provider,{value:{location:Xn({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ct.Pop}},w):w}function Sy(){let t=Oy(),e=py(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,null)}const Ey=E.createElement(Sy,null);class ky extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(Wt.Provider,{value:this.props.routeContext},E.createElement(Of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xy(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(nu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Wt.Provider,{value:e},n)}function by(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Z(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,v=!1,w=null,_=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||Ey,l&&(u<0&&h===0?(Py("route-fallback"),v=!0,_=null):u===h&&(v=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),g=()=>{let y;return p?y=w:v?y=_:d.route.Component?y=E.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,E.createElement(xy,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(ky,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Nf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nf||{}),Af=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Af||{});function jy(t){let e=E.useContext(nu);return e||Z(!1),e}function Ty(t){let e=E.useContext(gy);return e||Z(!1),e}function Cy(t){let e=E.useContext(Wt);return e||Z(!1),e}function If(t){let e=Cy(),r=e.matches[e.matches.length-1];return r.route.id||Z(!1),r.route.id}function Oy(){var t;let e=E.useContext(Of),r=Ty(),n=If();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ry(){let{router:t}=jy(Nf.UseNavigateStable),e=If(Af.UseNavigateStable),r=E.useRef(!1);return Rf(()=>{r.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xn({fromRouteId:e},i)))},[t,e])}const Nc={};function Py(t,e,r){Nc[t]||(Nc[t]=!0)}function Ny(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ac(t){let{to:e,replace:r,state:n,relative:s}=t;sn()||Z(!1);let{future:i,static:o}=E.useContext(Vt),{matches:a}=E.useContext(Wt),{pathname:l}=as(),u=ls(),c=ru(e,tu(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return E.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Ue(t){Z(!1)}function Ay(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ct.Pop,navigator:i,static:o=!1,future:a}=t;sn()&&Z(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:o,future:Xn({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=nn(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:v="default"}=n,w=E.useMemo(()=>{let _=eu(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:v},navigationType:s}},[l,c,d,h,p,v,s]);return w==null?null:E.createElement(Vt.Provider,{value:u},E.createElement(Xi.Provider,{children:r,value:w}))}function Ic(t){let{children:e,location:r}=t;return wy(Da(e),r)}new Promise(()=>{});function Da(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,s)=>{if(!E.isValidElement(n))return;let i=[...e,s];if(n.type===E.Fragment){r.push.apply(r,Da(n.props.children,i));return}n.type!==Ue&&Z(!1),!n.props.index||!n.props.children||Z(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Da(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ba.apply(this,arguments)}function Iy(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function $y(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ly(t,e){return t.button===0&&(!e||e==="_self")&&!$y(t)}const Uy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dy="6";try{window.__reactRouterVersion=Dy}catch{}const By="startTransition",$c=Pm[By];function Lc(t){let{basename:e,children:r,future:n,window:s}=t,i=E.useRef();i.current==null&&(i.current=Vv({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=E.useCallback(d=>{u&&$c?$c(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.useEffect(()=>Ny(n),[n]),E.createElement(Ay,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const My=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,su=E.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=Iy(e,Uy),{basename:p}=E.useContext(Vt),v,w=!1;if(typeof u=="string"&&zy.test(u)&&(v=u,My))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=eu(S.pathname,p);S.origin===y.origin&&k!=null?u=k+S.search+S.hash:w=!0}catch{}let _=vy(u,{relative:s}),m=Fy(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function g(y){n&&n(y),y.defaultPrevented||m(y)}return E.createElement("a",Ba({},h,{href:v||_,onClick:w||i?n:g,ref:r,target:l}))});var Uc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uc||(Uc={}));var Dc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dc||(Dc={}));function Fy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ls(),u=as(),c=Pf(t,{relative:o});return E.useCallback(d=>{if(Ly(d,r)){d.preventDefault();let h=n!==void 0?n:bi(u)===bi(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}const Vy={},Bc=t=>{let e;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(v=>v(e,p))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(Vy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,l);return l},Wy=t=>t?Bc(t):Bc;var $f={exports:{}},Lf={},Uf={exports:{}},Df={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=E;function Hy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qy=typeof Object.is=="function"?Object.is:Hy,Ky=Yr.useState,Gy=Yr.useEffect,Jy=Yr.useLayoutEffect,Qy=Yr.useDebugValue;function Yy(t,e){var r=e(),n=Ky({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Jy(function(){s.value=r,s.getSnapshot=e,Uo(s)&&i({inst:s})},[t,r,e]),Gy(function(){return Uo(s)&&i({inst:s}),t(function(){Uo(s)&&i({inst:s})})},[t]),Qy(r),r}function Uo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!qy(t,r)}catch{return!0}}function Xy(t,e){return e()}var Zy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xy:Yy;Df.useSyncExternalStore=Yr.useSyncExternalStore!==void 0?Yr.useSyncExternalStore:Zy;Uf.exports=Df;var e0=Uf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=E,t0=e0;function r0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n0=typeof Object.is=="function"?Object.is:r0,s0=t0.useSyncExternalStore,i0=Zi.useRef,o0=Zi.useEffect,a0=Zi.useMemo,l0=Zi.useDebugValue;Lf.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=i0(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=a0(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),s!==void 0&&o.hasValue){var v=o.value;if(s(v,p))return d=v}return d=p}if(v=d,n0(c,p))return v;var w=n(p);return s!==void 0&&s(v,w)?(c=p,v):(c=p,d=w)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,s]);var a=s0(t,i[0],i[1]);return o0(function(){o.hasValue=!0,o.value=a},[a]),l0(a),a};$f.exports=Lf;var u0=$f.exports;const c0=nl(u0),Bf={},{useDebugValue:d0}=ll,{useSyncExternalStoreWithSelector:h0}=c0;let Mc=!1;const f0=t=>t;function p0(t,e=f0,r){(Bf?"production":void 0)!=="production"&&r&&!Mc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mc=!0);const n=h0(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return d0(n),n}const zc=t=>{(Bf?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Wy(t):t,r=(n,s)=>p0(e,n,s);return Object.assign(r,e),r},m0=t=>t?zc(t):zc;var iu={},ji={},Ma=function(t,e){return Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ma(t,e)};function Mf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ma(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ti=function(){return Ti=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ti.apply(this,arguments)};function on(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function zf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Ff(t,e){return function(r,n){e(r,n,t)}}function Vf(t,e,r,n,s,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var v={};for(var w in n)v[w]=w==="access"?{}:n[w];for(var w in n.access)v.access[w]=n.access[w];v.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var _=(0,r[p])(a==="accessor"?{get:c.get,set:c.set}:c[l],v);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(c.get=d),(d=o(_.set))&&(c.set=d),(d=o(_.init))&&s.unshift(d)}else(d=o(_))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function Wf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Hf(t){return typeof t=="symbol"?t:"".concat(t)}function qf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Kf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function C(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Gf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var eo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Jf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&eo(e,t,r)}function Ci(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ou(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Qf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ou(arguments[e]));return t}function Yf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Xf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function Zf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(v){return Promise.resolve(v).then(p,d)}}function a(p,v){n[p]&&(s[p]=function(w){return new Promise(function(_,m){i.push([p,w,_,m])>1||l(p,w)})},v&&(s[p]=v(s[p])))}function l(p,v){try{u(n[p](v))}catch(w){h(i[0][3],w)}}function u(p){p.value instanceof Xr?Promise.resolve(p.value.v).then(c,d):h(i[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,v){p(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ep(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Xr(t[s](o)),done:!1}:i?i(o):o}:i}}function tp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ci=="function"?Ci(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function rp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var g0=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},za=function(t){return za=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},za(t)};function np(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=za(t),n=0;n<r.length;n++)r[n]!=="default"&&eo(e,t,r[n]);return g0(e,t),e}function sp(t){return t&&t.__esModule?t:{default:t}}function ip(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function op(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function ap(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var v0=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function up(t){function e(i){t.error=t.hasError?new v0(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function cp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const y0={__extends:Mf,__assign:Ti,__rest:on,__decorate:zf,__param:Ff,__esDecorate:Vf,__runInitializers:Wf,__propKey:Hf,__setFunctionName:qf,__metadata:Kf,__awaiter:C,__generator:Gf,__createBinding:eo,__exportStar:Jf,__values:Ci,__read:ou,__spread:Qf,__spreadArrays:Yf,__spreadArray:Xf,__await:Xr,__asyncGenerator:Zf,__asyncDelegator:ep,__asyncValues:tp,__makeTemplateObject:rp,__importStar:np,__importDefault:sp,__classPrivateFieldGet:ip,__classPrivateFieldSet:op,__classPrivateFieldIn:ap,__addDisposableResource:lp,__disposeResources:up,__rewriteRelativeImportExtension:cp},w0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lp,get __assign(){return Ti},__asyncDelegator:ep,__asyncGenerator:Zf,__asyncValues:tp,__await:Xr,__awaiter:C,__classPrivateFieldGet:ip,__classPrivateFieldIn:ap,__classPrivateFieldSet:op,__createBinding:eo,__decorate:zf,__disposeResources:up,__esDecorate:Vf,__exportStar:Jf,__extends:Mf,__generator:Gf,__importDefault:sp,__importStar:np,__makeTemplateObject:rp,__metadata:Kf,__param:Ff,__propKey:Hf,__read:ou,__rest:on,__rewriteRelativeImportExtension:cp,__runInitializers:Wf,__setFunctionName:qf,__spread:Qf,__spreadArray:Xf,__spreadArrays:Yf,__values:Ci,default:y0},Symbol.toStringTag,{value:"Module"})),_0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let to=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},dp=class extends to{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Fa=class extends to{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Va=class extends to{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Oi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oi||(Oi={}));class S0{constructor(e,{headers:r={},customFetch:n,region:s=Oi.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=_0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return C(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const m=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:_}).catch(k=>{throw new dp(k)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new Fa(m);if(!m.ok)throw new Va(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield m.json():y==="application/octet-stream"||y==="application/pdf"?S=yield m.blob():y==="text/event-stream"?S=m:y==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof Va||a instanceof Fa?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const E0=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Oi},FunctionsClient:S0,FunctionsError:to,FunctionsFetchError:dp,FunctionsHttpError:Va,FunctionsRelayError:Fa},Symbol.toStringTag,{value:"Module"})),hp=ts(E0);var ve={};const an=ts(w0);var Rs={},Ps={},Ns={},As={},Is={},$s={},Fc;function fp(){if(Fc)return $s;Fc=1,Object.defineProperty($s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $s.default=t,$s}var Vc;function pp(){if(Vc)return Is;Vc=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=an.__importDefault(fp());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let p=null,v=null,w=null,_=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=k:v=JSON.parse(k))}const y=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),S=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&S&&S.length>1&&(w=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,_=406,m="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(v=[],p=null,_=200,m="OK")}catch{l.status===404&&y===""?(_=204,m="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,_=200,m="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:v,count:w,status:_,statusText:m}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d,h,p,v;let w="";const _=l==null?void 0:l.cause;if(_){const m=(u=_==null?void 0:_.message)!==null&&u!==void 0?u:"",g=(c=_==null?void 0:_.code)!==null&&c!==void 0?c:"";w=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(h=_==null?void 0:_.name)!==null&&h!==void 0?h:"Error"}: ${m}`,g&&(w+=` (${g})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Is.default=r,Is}var Wc;function mp(){if(Wc)return As;Wc=1,Object.defineProperty(As,"__esModule",{value:!0});const e=an.__importDefault(pp());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return As.default=r,As}var Hc;function au(){if(Hc)return Ns;Hc=1,Object.defineProperty(Ns,"__esModule",{value:!0});const e=an.__importDefault(mp()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Ns.default=n,Ns}var qc;function gp(){if(qc)return Ps;qc=1,Object.defineProperty(Ps,"__esModule",{value:!0});const e=an.__importDefault(au());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Ps.default=r,Ps}var Kc;function k0(){if(Kc)return Rs;Kc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const t=an,e=t.__importDefault(gp()),r=t.__importDefault(au());let n=class vp{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new vp(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let p;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{h.searchParams.append(w,_)})):(d="POST",p=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:v,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Rs.default=n,Rs}Object.defineProperty(ve,"__esModule",{value:!0});ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const ln=an,yp=ln.__importDefault(k0());ve.PostgrestClient=yp.default;const wp=ln.__importDefault(gp());ve.PostgrestQueryBuilder=wp.default;const _p=ln.__importDefault(au());ve.PostgrestFilterBuilder=_p.default;const Sp=ln.__importDefault(mp());ve.PostgrestTransformBuilder=Sp.default;const Ep=ln.__importDefault(pp());ve.PostgrestBuilder=Ep.default;const kp=ln.__importDefault(fp());ve.PostgrestError=kp.default;ve.default={PostgrestClient:yp.default,PostgrestQueryBuilder:wp.default,PostgrestFilterBuilder:_p.default,PostgrestTransformBuilder:Sp.default,PostgrestBuilder:Ep.default,PostgrestError:kp.default};class xp{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const x0="2.86.2",b0=`realtime-js/${x0}`,bp="1.0.0",j0="2.0.0",Gc=bp,Wa=1e4,T0=1e3,C0=100;var tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tr||(tr={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qe||(Qe={}));var Ha;(function(t){t.websocket="websocket"})(Ha||(Ha={}));var rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rr||(rr={}));class O0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,r),Array.from(l,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(u,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(d,m=>v.setUint8(w++,m.charCodeAt(0)));var _=new Uint8Array(p.byteLength+n.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(n),p.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class jp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Jc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=R0(o,t,e,s),i),{}):{}},R0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Tp(i,o):qa(o)},Tp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return I0(e,r)}switch(t){case z.bool:return P0(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return N0(e);case z.json:case z.jsonb:return A0(e);case z.timestamp:return $0(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return qa(e);default:return qa(e)}},qa=t=>t,P0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},N0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Tp(e,a))}return t},$0=t=>typeof t=="string"?t.replace(" ","T"):t,Cp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Do{constructor(e,r,n={},s=Wa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ka;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ka||(Ka={}));let Op=class Ys{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ys.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),v=c.filter(_=>p.indexOf(_.presence_ref)<0),w=d.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ga;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ga||(Ga={}));var Fr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fr||(Fr={}));var nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nt||(nt={}));const L0=ee;let Rp=class Pp{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Do(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new jp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Op(this),this.broadcastEndpointURL=Cp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Fr.PRESENCE]&&this.bindings[Fr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(nt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(nt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,m=[];for(let g=0;g<_;g++){const y=w[g],{filter:{event:S,schema:k,table:b,filter:j}}=y,R=p&&p[g];if(R&&R.event===S&&R.schema===k&&R.table===b&&R.filter===j)m.push(Object.assign(Object.assign({},y),{id:R.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(nt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ee.errored,e==null||e(nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ee.joined&&e===Fr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Do(this,Qe.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Do(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Qe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,_;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,_,m,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,k=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:_,commit_timestamp:m,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:m,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Pp.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jc(e.columns,e.old_record)),r}};const Bo=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U0=[1e3,2e3,5e3,1e4],D0=1e4,B0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let M0=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wa,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bo,this.ref=0,this.reconnectTimer=null,this.vsn=Gc,this.logger=Bo,this.conn=null,this.sendBuffer=[],this.serializer=new O0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ha.websocket}`,this.httpEndpoint=Cp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return rr.Connecting;case tr.open:return rr.Open;case tr.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Rp(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tr.open||this.conn.readyState===tr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([B0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:b0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Qe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Wa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ls.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Bo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Gc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>U0[v-1]||D0,this.vsn){case bp:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case j0:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const z0=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:L0,get REALTIME_LISTEN_TYPES(){return Fr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ga},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ka},get REALTIME_SUBSCRIBE_STATES(){return nt},RealtimeChannel:Rp,RealtimeClient:M0,RealtimePresence:Op,WebSocketFactory:xp},Symbol.toStringTag,{value:"Module"})),Np=ts(z0);class us extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function H(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ap extends us{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ri extends us{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const lu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F0=()=>Response,Ja=t=>{if(Array.isArray(t))return t.map(r=>Ja(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ja(n)}),e},V0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},W0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Mo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},H0=(t,e,r)=>C(void 0,void 0,void 0,function*(){const n=yield F0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ap(Mo(s),i,o))}).catch(s=>{e(new Ri(Mo(s),s))}):e(new Ri(Mo(t),t))}),q0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(V0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function cs(t,e,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,q0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>H0(l,a,n))})})}function Zn(t,e,r,n){return C(this,void 0,void 0,function*(){return cs(t,"GET",e,r,n)})}function Ge(t,e,r,n,s){return C(this,void 0,void 0,function*(){return cs(t,"POST",e,n,s,r)})}function Qa(t,e,r,n,s){return C(this,void 0,void 0,function*(){return cs(t,"PUT",e,n,s,r)})}function K0(t,e,r,n){return C(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function uu(t,e,r,n,s){return C(this,void 0,void 0,function*(){return cs(t,"DELETE",e,n,s,r)})}class G0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return C(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(H(e))return{data:null,error:e};throw e}})}}var Ip;class J0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ip]="BlobDownloadBuilder",this.promise=null}asStream(){return new G0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return C(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(H(e))return{data:null,error:e};throw e}})}}Ip=Symbol.toStringTag;const Q0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=lu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return C(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(e=="PUT"?Qa:Ge)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(H(i))return{data:null,error:i};throw i}})}upload(e,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return C(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Qc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Qa(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(H(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return C(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ge(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new us("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}update(e,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return C(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}copy(e,r,n){return C(this,void 0,void 0,function*(){try{return{data:{path:(yield Ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return C(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ge(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return C(this,void 0,void 0,function*(){try{const s=yield Ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Zn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new J0(l,this.shouldThrowOnError)}info(e){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ja(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}exists(e){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield K0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n)&&n instanceof Ri){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return C(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}list(e,r,n){return C(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Q0),r),{prefix:e||""});return{data:yield Ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}listV2(e,r){return C(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ge(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const $p="2.86.2",Lp={"X-Client-Info":`storage-js/${$p}`};class X0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lp),r),this.fetch=lu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return C(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Zn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}getBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}createBucket(e){return C(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return C(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}emptyBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var es=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Z0(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function ew(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function tw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Z0(t.baseUrl,n,s),l=await ew(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?h:void 0,v=p==null?void 0:p.error;throw new es((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Us(t){return t.join("")}var rw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Us(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(t.namespace)}`}),!0}catch(e){if(e instanceof es&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof es&&r.status===409)return;throw r}}};function yr(t){return t.join("")}var nw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof es&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof es&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},sw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=tw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new rw(this.client,e),this.tableOps=new nw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Up{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lp),r),this.fetch=lu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}listBuckets(e){return C(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zn(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}from(e){if(!W0(e))throw new us("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new sw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>C(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const cu={"X-Client-Info":`storage-js/${$p}`,"Content-Type":"application/json"};class du extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xs extends du{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dp extends du{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ya;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ya||(Ya={}));const ro=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iw=()=>Response,Bp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ow=t=>Array.from(new Float32Array(t)),aw=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Yc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lw=(t,e,r)=>C(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Xs(Yc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))}}else e(new Dp(Yc(t),t))}),uw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Bp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function cw(t,e,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,uw(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>lw(l,a,n))})})}function Pe(t,e,r,n,s){return C(this,void 0,void 0,function*(){return cw(t,"POST",e,n,s,r)})}class Mp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cu),r),this.fetch=ro(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}getIndex(e,r){return C(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}listIndexes(e){return C(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return C(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}}class zp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cu),r),this.fetch=ro(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return C(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}getVectors(e){return C(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}listVectors(e){return C(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}queryVectors(e){return C(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}deleteVectors(e){return C(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}}class Fp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cu),r),this.fetch=ro(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}getBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}listBuckets(){return C(this,arguments,void 0,function*(e={}){try{return{data:yield Pe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}}class Vp extends Fp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Wp(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return C(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return C(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return C(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return C(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Wp extends Mp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return C(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return C(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return C(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return C(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Hp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Hp extends zp{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return C(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return C(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return C(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return C(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return C(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class dw extends X0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Y0(this.url,this.headers,e,this.fetch)}get vectors(){return new Vp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Up(this.url+"/iceberg",this.headers,this.fetch)}}const hw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Up,StorageApiError:Ap,StorageClient:dw,StorageError:us,StorageUnknownError:Ri,StorageVectorsApiError:Xs,StorageVectorsClient:Vp,StorageVectorsError:du,get StorageVectorsErrorCode(){return Ya},StorageVectorsUnknownError:Dp,VectorBucketApi:Fp,VectorBucketScope:Wp,VectorDataApi:zp,VectorIndexApi:Mp,VectorIndexScope:Hp,isPlainObject:Bp,isStorageError:H,isStorageVectorsError:be,normalizeToFloat32:ow,resolveFetch:ro,resolveResponse:iw,validateVectorDimension:aw},Symbol.toStringTag,{value:"Module"})),fw=ts(hw);var qp={},no={};Object.defineProperty(no,"__esModule",{value:!0});no.version=void 0;no.version="2.86.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=no;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(qp);var Kp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(u,c)=>{var d;const h=(d=await i())!==null&&d!==void 0?d:s;let p=new l(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),a(u,Object.assign(Object.assign({},c),{headers:p}))}};t.fetchWithAuth=n})(Kp);var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.isBrowser=void 0;Ht.uuid=pw;Ht.ensureTrailingSlash=Gp;Ht.applySettingDefaults=gw;Ht.validateSupabaseUrl=vw;function pw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function Gp(t){return t.endsWith("/")?t:t+"/"}const mw=()=>typeof window<"u";Ht.isBrowser=mw;function gw(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function vw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var so={};const Jp="2.86.2",Er=30*1e3,Xa=3,zo=Xa*Er,yw="http://localhost:9999",ww="supabase.auth.token",_w={"X-Client-Info":`gotrue-js/${Jp}`},Za="X-Supabase-Api-Version",Qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ew=10*60*1e3;let Zr=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Yp=class extends Zr{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Xp(t){return P(t)&&t.name==="AuthApiError"}let xt=class extends Zr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},yt=class extends Zr{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},ke=class extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Zp(t){return P(t)&&t.name==="AuthSessionMissingError"}let Xt=class extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},kn=class extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},xn=class extends yt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function em(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}let el=class extends yt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Pi=class extends yt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Zs(t){return P(t)&&t.name==="AuthRetryableFetchError"}let tl=class extends yt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function kw(t){return P(t)&&t.name==="AuthWeakPasswordError"}let Ni=class extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xc=` 	
\r=`.split(""),xw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xc.length;e+=1)t[Xc[e].charCodeAt(0)]=-2;for(let e=0;e<Ai.length;e+=1)t[Ai[e].charCodeAt(0)]=e;return t})();function Zc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ai[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ai[n]),e.queuedBits-=6}}function tm(t,e,r){const n=xw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ed(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Tw(o,n,r)};for(let o=0;o<t.length;o+=1)tm(t.charCodeAt(o),s,i);return e.join("")}function bw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}bw(n,e)}}function Tw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Vr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)tm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Cw(t){const e=[];return jw(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Zc(s,r,n)),Zc(null,r,n),e.join("")}function Ow(t){return Math.round(Date.now()/1e3)+t}function Rw(){return Symbol("auth-callback")}const ce=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},rm=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function Pw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const nm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Nw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ue=async(t,e)=>{await t.removeItem(e)};class io{constructor(){this.promise=new io.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}io.promiseConstructor=Promise;function Fo(t){const e=t.split(".");if(e.length!==3)throw new Ni("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Sw.test(e[n]))throw new Ni("JWT not in base64url format");return{header:JSON.parse(ed(e[0])),payload:JSON.parse(ed(e[1])),signature:Vr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Aw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Iw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function $w(t){return("0"+t.toString(16)).substr(-2)}function Lw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,$w).join("")}async function Uw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Uw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(t,e,r=!1){const n=Lw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await kr(t,`${e}-code-verifier`,s);const i=await Dw(n);return[i,n===i?"plain":"s256"]}const Bw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mw(t){const e=t.headers.get(Za);if(!e||!e.match(Bw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Fw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(t){if(!Vw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function td(t){return JSON.parse(JSON.stringify(t))}const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hw=[502,503,504];async function rd(t){var e;if(!Nw(t))throw new Pi(Zt(t),0);if(Hw.includes(t.status))throw new Pi(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new xt(Zt(i),i)}let n;const s=Mw(t);if(s&&s.getTime()>=Qp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tl(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ke}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new tl(Zt(r),t.status,r.weak_password.reasons);throw new Yp(Zt(r),t.status||500,n)}const qw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function N(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Za]||(i[Za]=Qp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Kw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Kw(t,e,r,n,s,i){const o=qw(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Pi(Zt(l),0)}if(a.ok||await rd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await rd(l)}}function qe(t){var e;let r=null;Qw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ow(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nd(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gw(t){return{data:t,error:null}}function Jw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=on(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sd(t){return t}function Qw(t){return t.access_token&&t.refresh_token&&t.expires_in}const ei=["global","local","others"];let hu=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=nm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ei[0]){if(ei.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ei.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=on(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){_r(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_r(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){_r(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){_r(e.userId);try{const{data:r,error:n}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_r(e.userId),_r(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(P(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await N(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}};function id(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const er={debug:!!(globalThis&&rm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let sm=class extends fu{};class Yw extends fu{}async function im(t,e,r){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const od={};async function Xw(t,e,r){var n;const s=(n=od[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new Yw(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return od[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function Zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function om(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function e_(t){return parseInt(t,16)}function t_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function r_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=om(t.address),v=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let m=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}m+=g}return`${_}
${m}`}class te extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ii extends te{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function n_({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(am(o)){if(i.rp.id!==o)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function s_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(am(n)){if(r.rpId!==n)return new te({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class i_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const o_=new i_;function a_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=on(t,["challenge","user","excludeCredentials"]),i=Vr(e).buffer,o=Object.assign(Object.assign({},r),{id:Vr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Vr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function l_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=on(t,["challenge","allowCredentials"]),s=Vr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Vr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function u_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function am(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ad(){var t,e;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function d_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ii("Browser returned unexpected credential type",e)}:{data:null,error:new Ii("Empty credential response",e)}}catch(e){return{data:null,error:n_({error:e,options:t})}}}async function h_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ii("Browser returned unexpected credential type",e)}:{data:null,error:new Ii("Empty credential response",e)}}catch(e){return{data:null,error:s_({error:e,options:t})}}}const f_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},p_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $i(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=$i(a,o):n[i]=$i(o)}else n[i]=o}return n}function m_(t,e){return $i(f_,t,e||{})}function g_(t,e){return $i(p_,t,e||{})}class v_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??o_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=m_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await d_({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=g_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await h_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!ad())return{data:null,error:new xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!ad())return{data:null,error:new xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in register",o)}}}}Zw();const y_={url:yw,storageKey:ww,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_w,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ld(t,e,r){return await r()}const Sr={};let pu=class rl{get jwks(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},y_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=rl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nm(i.fetch),this.lock=i.lock||ld,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=im:this.lock=ld,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=id(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=id(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ce()&&(r=Pw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),em(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new xt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await wr(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:qe})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qe})}else throw new kn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nd})}else throw new kn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Xt;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,h;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:w,wallet:_,statement:m,options:g}=e;let y;if(ce())if(typeof _=="object")y=_;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=_}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=om(k[0]);let j=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const D=await y.request({method:"eth_chainId"});j=e_(D)}const R={domain:S.host,address:b,statement:m,uri:S.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=r_(R),v=await y.request({method:"personal_sign",params:[t_(p),b]})}try{const{data:w,error:_}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qe});if(_)throw _;if(!w||!w.session||!w.user){const m=new Xt;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(P(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,h,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:_,wallet:m,statement:g,options:y}=e;let S;if(ce())if(typeof m=="object")S=m;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))S=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=m}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const b=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:_,error:m}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:or(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:qe});if(m)throw m;if(!_||!_.session||!_.user){const g=new Xt;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:m})}catch(_){if(P(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await ue(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Xt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Xt;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await wr(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new kn("You must provide either an email or phone number.")}catch(a){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await wr(this.storage,this.storageKey));const u=await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Gw});return!((i=u.data)===null||i===void 0)&&i.url&&ce()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ke;const{error:s}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(P(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await N(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new kn("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Vo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Ww(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ke}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bt})})}catch(r){if(P(r))return Zp(r)&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ke;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wr(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ke;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Fo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ke;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ce())throw new xn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new el("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new el("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new xn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Xp(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Rw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wr(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ce()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qe}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Xt}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Iw(async s=>(s>0&&await Aw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zs(i)&&Date.now()+o-n<Er})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await kr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Vo()}else if(s&&!s.user&&!s.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ue(this.storage,this.storageKey+"-user"),await kr(this.storage,this.storageKey,s)):s.user=Vo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new io;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ke;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={data:null,error:i};return Zs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ue(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await kr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=td(s);await kr(this.storage,this.storageKey,i)}else{const s=td(r);await kr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ue(this.storage,this.storageKey),await ue(this.storage,this.storageKey+"-code-verifier"),await ue(this.storage,this.storageKey+"-user"),this.userStorage&&await ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Er}ms, refresh threshold is ${Xa} ticks`),s<=Xa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await wr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?u_(e.webauthn.credential_response):c_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:a_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Fo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await N(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ke})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ke});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ke});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await N(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ke})})}catch(e){if(P(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await N(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ke})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Ew>s)return n;const{data:i,error:o}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Fo(n);r!=null&&r.allowExpired||zw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=Fw(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Cw(`${a}.${l}`)))throw new Ni("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}};pu.nextInstanceID={};const w_=hu,__=pu,S_=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:w_,AuthApiError:Yp,AuthClient:__,AuthError:Zr,AuthImplicitGrantRedirectError:xn,AuthInvalidCredentialsError:kn,AuthInvalidJwtError:Ni,AuthInvalidTokenResponseError:Xt,AuthPKCEGrantCodeExchangeError:el,AuthRetryableFetchError:Pi,AuthSessionMissingError:ke,AuthUnknownError:xt,AuthWeakPasswordError:tl,CustomAuthError:yt,GoTrueAdminApi:hu,GoTrueClient:pu,NavigatorLockAcquireTimeoutError:sm,SIGN_OUT_SCOPES:ei,isAuthApiError:Xp,isAuthError:P,isAuthImplicitGrantRedirectError:em,isAuthRetryableFetchError:Zs,isAuthSessionMissingError:Zp,isAuthWeakPasswordError:kw,lockInternals:er,navigatorLock:im,processLock:Xw},Symbol.toStringTag,{value:"Module"})),lm=ts(S_);Object.defineProperty(so,"__esModule",{value:!0});so.SupabaseAuthClient=void 0;const E_=lm;class k_ extends E_.AuthClient{constructor(e){super(e)}}so.SupabaseAuthClient=k_;Object.defineProperty(ji,"__esModule",{value:!0});const x_=hp,b_=ve,j_=Np,T_=fw,Ds=qp,C_=Kp,ud=Ht,O_=so;let R_=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,ud.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ds.DEFAULT_DB_OPTIONS,realtime:Ds.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ds.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Ds.DEFAULT_GLOBAL_OPTIONS},c=(0,ud.applySettingDefaults)(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=(0,C_.fetchWithAuth)(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new b_.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new T_.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new x_.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O_.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j_.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};ji.default=R_;(function(t){var e=gr&&gr.__createBinding||(Object.create?function(c,d,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(d,h);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(c,p,v)}:function(c,d,h,p){p===void 0&&(p=h),c[p]=d[h]}),r=gr&&gr.__exportStar||function(c,d){for(var h in c)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&e(d,c,h)},n=gr&&gr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(ji);r(lm,t);var i=ve;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=hp;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Np,t);var a=ji;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(c,d,h)=>new s.default(c,d,h);t.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const d=c.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(iu);const um=nl(iu),P_=hd({__proto__:null,default:um},[iu]),{PostgrestError:PS,FunctionsHttpError:NS,FunctionsFetchError:AS,FunctionsRelayError:IS,FunctionsError:$S,FunctionRegion:LS,SupabaseClient:US,createClient:N_,GoTrueAdminApi:DS,GoTrueClient:BS,AuthAdminApi:MS,AuthClient:zS,navigatorLock:FS,NavigatorLockAcquireTimeoutError:VS,lockInternals:WS,processLock:HS,SIGN_OUT_SCOPES:qS,AuthError:KS,AuthApiError:GS,AuthUnknownError:JS,CustomAuthError:QS,AuthSessionMissingError:YS,AuthInvalidTokenResponseError:XS,AuthInvalidCredentialsError:ZS,AuthImplicitGrantRedirectError:eE,AuthPKCEGrantCodeExchangeError:tE,AuthRetryableFetchError:rE,AuthWeakPasswordError:nE,AuthInvalidJwtError:sE,isAuthError:iE,isAuthApiError:oE,isAuthSessionMissingError:aE,isAuthImplicitGrantRedirectError:lE,isAuthRetryableFetchError:uE,isAuthWeakPasswordError:cE,RealtimePresence:dE,RealtimeChannel:hE,RealtimeClient:fE,REALTIME_LISTEN_TYPES:pE,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:mE,REALTIME_PRESENCE_LISTEN_EVENTS:gE,REALTIME_SUBSCRIBE_STATES:vE,REALTIME_CHANNEL_STATES:yE}=um||P_,A_="https://kothcnxkcukzhcexurec.supabase.co",I_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtvdGhjbnhrY3VremhjZXh1cmVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NTczOTYsImV4cCI6MjA4MDUzMzM5Nn0.7gGuB0LyibiYFoe4JkqXE0UPYAq60wk45rBidWeOJh8",M=N_(A_,I_),at=m0(t=>({user:null,profile:null,loading:!1,error:null,signUp:async(e,r,n,s)=>{t({loading:!0,error:null});try{const{data:i,error:o}=await M.auth.signUp({email:e,password:r,options:{data:{full_name:n,role:s}}});if(o)throw o;if(i.user){const{error:a}=await M.from("profiles").insert({id:i.user.id,email:e,full_name:n,role:s});if(a)throw a;t({user:{id:i.user.id,email:e},loading:!1})}}catch(i){throw t({error:i.message,loading:!1}),i}},signIn:async(e,r)=>{t({loading:!0,error:null});try{const{data:n,error:s}=await M.auth.signInWithPassword({email:e,password:r});if(s)throw s;if(n.user){const{data:i,error:o}=await M.from("profiles").select("*").eq("id",n.user.id).maybeSingle();if(o)throw o;t({user:{id:n.user.id,email:n.user.email||""},profile:i,loading:!1})}}catch(n){throw t({error:n.message,loading:!1}),n}},signOut:async()=>{t({loading:!0,error:null});try{const{error:e}=await M.auth.signOut();if(e)throw e;t({user:null,profile:null,loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},loadUser:async()=>{var e;t({loading:!0});try{const{data:r}=await M.auth.getSession();if((e=r.session)!=null&&e.user){const n=r.session.user,{data:s}=await M.from("profiles").select("*").eq("id",n.id).maybeSingle();t({user:{id:n.id,email:n.email||""},profile:s,loading:!1})}else t({loading:!1})}catch(r){t({error:r.message,loading:!1})}}}));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cm=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...L_,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:cm("lucide",s),...a},[...o.map(([u,c])=>E.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const r=E.forwardRef(({className:n,...s},i)=>E.createElement(U_,{ref:i,iconNode:e,className:cm(`lucide-${$_(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=le("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function J_({children:t,role:e}){const[r,n]=E.useState(!1),s=ls(),{profile:i,signOut:o}=at(),a=async()=>{await o(),s("/login")},l=[{path:"/",icon:z_,label:"Inicio"},{path:"/schedules",icon:D_,label:"Horarios"},{path:"/map",icon:W_,label:"Mapa del Campus"},{path:"/chat",icon:fm,label:"Chat"},{path:"/library",icon:dm,label:"Biblioteca"},{path:"/reservations",icon:gu,label:"Reservas"},{path:"/notifications",icon:mu,label:"Notificaciones"}];return f.jsxs("div",{className:"layout",children:[f.jsx("button",{className:"sidebar-toggle",onClick:()=>n(!r),children:r?f.jsx(G_,{size:24}):f.jsx(H_,{size:24})}),f.jsxs("aside",{className:`sidebar ${r?"open":""}`,children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsx("h1",{children:"UniApp"}),f.jsx("span",{className:"role-badge",children:e})]}),f.jsx("nav",{className:"sidebar-nav",children:l.map(u=>f.jsxs(su,{to:u.path,className:"nav-item",onClick:()=>n(!1),children:[f.jsx(u.icon,{size:20}),f.jsx("span",{children:u.label})]},u.path))}),f.jsxs("div",{className:"sidebar-footer",children:[f.jsxs("div",{className:"user-info",children:[(i==null?void 0:i.avatar_url)&&f.jsx("img",{src:i.avatar_url,alt:i.full_name,className:"avatar"}),f.jsxs("div",{children:[f.jsx("p",{className:"user-name",children:(i==null?void 0:i.full_name)||"Usuario"}),f.jsx("p",{className:"user-email",children:i==null?void 0:i.email})]})]}),f.jsxs("button",{onClick:a,className:"logout-btn",children:[f.jsx(F_,{size:20}),f.jsx("span",{children:"Salir"})]})]})]}),f.jsx("main",{className:"main-content",children:f.jsx("div",{className:"content-wrapper",children:t})}),r&&f.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1)})]})}function Q_(){const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,i]=E.useState(!1),[o,a]=E.useState(""),l=ls(),{signIn:u}=at(),c=async d=>{d.preventDefault(),a(""),i(!0);try{await u(t,r),l("/")}catch(h){a(h.message||"Error al iniciar sesin")}finally{i(!1)}};return f.jsx("div",{className:"auth-container",children:f.jsxs("div",{className:"auth-card fade-in",children:[f.jsxs("div",{className:"auth-header",children:[f.jsx("h1",{children:"UniApp"}),f.jsx("p",{children:"Plataforma Universitaria Integral"})]}),f.jsxs("form",{onSubmit:c,className:"auth-form",children:[o&&f.jsxs("div",{className:"error-message",children:[f.jsx(hm,{size:20}),f.jsx("span",{children:o})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"tu@email.com",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"",required:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"auth-button",children:s?"Iniciando sesin...":"Iniciar Sesin"})]}),f.jsx("div",{className:"auth-footer",children:f.jsxs("p",{children:["No tienes cuenta?"," ",f.jsx(su,{to:"/register",children:"Regstrate aqu"})]})})]})})}function Y_(){const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState("student"),[l,u]=E.useState(!1),[c,d]=E.useState(""),h=ls(),{signUp:p}=at(),v=async w=>{w.preventDefault(),d(""),u(!0);try{await p(t,r,s,o),h("/")}catch(_){d(_.message||"Error al registrarse")}finally{u(!1)}};return f.jsx("div",{className:"auth-container",children:f.jsxs("div",{className:"auth-card fade-in",children:[f.jsxs("div",{className:"auth-header",children:[f.jsx("h1",{children:"UniApp"}),f.jsx("p",{children:"Crear Nueva Cuenta"})]}),f.jsxs("form",{onSubmit:v,className:"auth-form",children:[c&&f.jsxs("div",{className:"error-message",children:[f.jsx(hm,{size:20}),f.jsx("span",{children:c})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"fullName",children:"Nombre Completo"}),f.jsx("input",{id:"fullName",type:"text",value:s,onChange:w=>i(w.target.value),placeholder:"Juan Prez",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:t,onChange:w=>e(w.target.value),placeholder:"tu@email.com",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",value:r,onChange:w=>n(w.target.value),placeholder:"",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"role",children:"Eres...?"}),f.jsxs("select",{id:"role",value:o,onChange:w=>a(w.target.value),children:[f.jsx("option",{value:"student",children:"Estudiante"}),f.jsx("option",{value:"teacher",children:"Profesor"})]})]}),f.jsx("button",{type:"submit",disabled:l,className:"auth-button",children:l?"Creando cuenta...":"Registrarse"})]}),f.jsx("div",{className:"auth-footer",children:f.jsxs("p",{children:["Ya tienes cuenta?"," ",f.jsx(su,{to:"/login",children:"Inicia sesin aqu"})]})})]})})}function X_(){const t=at(i=>i.profile),[e,r]=E.useState({courses:0,messages:0,reservations:0,notifications:0}),[n,s]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{if(!(t!=null&&t.id))return;const[o,a,l,u]=await Promise.all([M.from("courses").select("id",{count:"exact"}),M.from("messages").select("id",{count:"exact"}).eq("user_id",t.id),M.from("reservations").select("id",{count:"exact"}).eq("user_id",t.id),M.from("notifications").select("id",{count:"exact"}).eq("user_id",t.id).eq("is_read",!1)]);r({courses:o.count||0,messages:a.count||0,reservations:l.count||0,notifications:u.count||0})}catch(o){console.error("Error fetching stats:",o)}finally{s(!1)}})()},[t==null?void 0:t.id]),f.jsxs("div",{className:"dashboard",children:[f.jsxs("div",{className:"dashboard-header",children:[f.jsxs("h1",{children:["Bienvenido, ",t==null?void 0:t.full_name]}),f.jsx("p",{children:"Tu plataforma universitaria integral"})]}),n?f.jsx("div",{className:"loading",children:"Cargando..."}):f.jsxs("div",{className:"stats-grid",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon blue",children:f.jsx(dm,{size:24})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("p",{className:"stat-label",children:"Cursos"}),f.jsx("p",{className:"stat-value",children:e.courses})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon green",children:f.jsx(fm,{size:24})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("p",{className:"stat-label",children:"Mensajes"}),f.jsx("p",{className:"stat-value",children:e.messages})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon purple",children:f.jsx(gu,{size:24})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("p",{className:"stat-label",children:"Reservas"}),f.jsx("p",{className:"stat-value",children:e.reservations})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon orange",children:f.jsx(mu,{size:24})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("p",{className:"stat-label",children:"Notificaciones"}),f.jsx("p",{className:"stat-value",children:e.notifications})]})]})]}),f.jsxs("div",{className:"dashboard-section",children:[f.jsx("h2",{children:"Informacin de la Plataforma"}),f.jsxs("div",{className:"info-cards",children:[f.jsxs("div",{className:"info-card",children:[f.jsx("h3",{children:"Gestin de Horarios"}),f.jsx("p",{children:"Consulta tu horario de clases, aulas y ubicaciones en tiempo real."})]}),f.jsxs("div",{className:"info-card",children:[f.jsx("h3",{children:"Comunicacin Integral"}),f.jsx("p",{children:"Chat en tiempo real con profesores y compaeros de clase."})]}),f.jsxs("div",{className:"info-card",children:[f.jsx("h3",{children:"Biblioteca Digital"}),f.jsx("p",{children:"Accede a recursos bibliogrficos digitales y documentacin acadmica."})]}),f.jsxs("div",{className:"info-card",children:[f.jsx("h3",{children:"Reservas Inteligentes"}),f.jsx("p",{children:"Reserva aulas y salas de estudio con verificacin de ocupacin en tiempo real."})]})]})]})]})}const dd=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Z_={Monday:"Lunes",Tuesday:"Martes",Wednesday:"Mircoles",Thursday:"Jueves",Friday:"Viernes",Saturday:"Sbado"};function eS(){const[t,e]=E.useState([]),[r,n]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const{data:o,error:a}=await M.from("schedules").select(`
            id,
            day_of_week,
            start_time,
            end_time,
            courses(name, code),
            classrooms(name, building)
          `);if(a)throw a;const l=(o||[]).map(u=>({id:u.id,day_of_week:u.day_of_week,start_time:u.start_time,end_time:u.end_time,course:u.courses?{name:u.courses.name,code:u.courses.code}:void 0,classroom:u.classrooms?{name:u.classrooms.name,building:u.classrooms.building}:void 0}));e(l)}catch(o){console.error("Error fetching schedules:",o)}finally{n(!1)}})()},[]);const s=dd.reduce((i,o)=>(i[o]=t.filter(a=>a.day_of_week===o),i),{});return f.jsxs("div",{className:"schedules",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Mi Horario"}),f.jsx("p",{children:"Visualiza tus clases y ubicaciones"})]}),r?f.jsx("div",{className:"loading",children:"Cargando horarios..."}):t.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(B_,{size:48}),f.jsx("p",{children:"No hay horarios registrados"})]}):f.jsx("div",{className:"schedule-grid",children:dd.map(i=>f.jsxs("div",{className:"day-column",children:[f.jsx("h3",{className:"day-title",children:Z_[i]}),s[i].length===0?f.jsx("p",{className:"no-classes",children:"Sin clases"}):f.jsx("div",{className:"schedule-items",children:s[i].map(o=>{var a,l;return f.jsxs("div",{className:"schedule-item",children:[f.jsxs("div",{className:"time-slot",children:[f.jsx("span",{className:"start-time",children:o.start_time}),f.jsx("span",{className:"end-time",children:o.end_time})]}),f.jsxs("div",{className:"schedule-details",children:[f.jsx("p",{className:"course-name",children:(a=o.course)==null?void 0:a.name}),f.jsx("p",{className:"course-code",children:(l=o.course)==null?void 0:l.code}),o.classroom&&f.jsxs("p",{className:"classroom-info",children:[o.classroom.name," - ",o.classroom.building]})]})]},o.id)})})]},i))})]})}function tS(){const t=at(m=>m.profile),[e,r]=E.useState([]),[n,s]=E.useState(null),[i,o]=E.useState([]),[a,l]=E.useState(""),[u,c]=E.useState(!0),[d,h]=E.useState(!1),[p,v]=E.useState("");E.useEffect(()=>{(async()=>{try{const{data:g,error:y}=await M.from("chat_rooms").select("*").order("created_at",{ascending:!1});if(y)throw y;r(g||[]),g&&g.length>0&&s(g[0])}catch(g){console.error("Error fetching chat rooms:",g)}finally{c(!1)}})()},[]),E.useEffect(()=>{if(!n)return;(async()=>{try{const{data:y,error:S}=await M.from("messages").select(`
            id,
            content,
            created_at,
            updated_at,
            user_id,
            chat_room_id,
            profiles(full_name, avatar_url)
          `).eq("chat_room_id",n.id).order("created_at",{ascending:!0});if(S)throw S;const k=(y||[]).map(b=>({id:b.id,content:b.content,created_at:b.created_at,updated_at:b.updated_at,user_id:b.user_id,chat_room_id:b.chat_room_id,user:b.profiles}));o(k)}catch(y){console.error("Error fetching messages:",y)}})();const g=M.channel(`room:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_room_id=eq.${n.id}`},y=>{o(S=>[...S,y.new])}).subscribe();return()=>{g.unsubscribe()}},[n]);const w=async()=>{if(!(!a.trim()||!n||!t))try{const{error:m}=await M.from("messages").insert({chat_room_id:n.id,user_id:t.id,content:a});if(m)throw m;l("")}catch(m){console.error("Error sending message:",m)}},_=async()=>{if(!(!p.trim()||!t))try{const{data:m,error:g}=await M.from("chat_rooms").insert({name:p,room_type:"group",created_by:t.id}).select();if(g)throw g;m&&(r([...e,m[0]]),s(m[0]),v(""),h(!1))}catch(m){console.error("Error creating room:",m)}};return f.jsxs("div",{className:"chat-container",children:[f.jsxs("div",{className:"chat-sidebar",children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsx("h2",{children:"Conversaciones"}),f.jsx("button",{onClick:()=>h(!0),className:"new-room-btn",children:f.jsx(pm,{size:20})})]}),d&&f.jsxs("div",{className:"new-room-form",children:[f.jsx("input",{type:"text",value:p,onChange:m=>v(m.target.value),placeholder:"Nombre de la sala",onKeyPress:m=>m.key==="Enter"&&_()}),f.jsx("button",{onClick:_,className:"create-btn",children:"Crear"}),f.jsx("button",{onClick:()=>h(!1),className:"cancel-btn",children:"Cancelar"})]}),f.jsx("div",{className:"rooms-list",children:u?f.jsx("p",{children:"Cargando conversaciones..."}):e.length===0?f.jsx("p",{children:"No hay conversaciones"}):e.map(m=>f.jsxs("button",{className:`room-item ${(n==null?void 0:n.id)===m.id?"active":""}`,onClick:()=>s(m),children:[f.jsx("span",{className:"room-name",children:m.name}),f.jsx("span",{className:"room-type",children:m.room_type})]},m.id))})]}),f.jsx("div",{className:"chat-main",children:n?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"chat-header",children:[f.jsx("h2",{children:n.name}),f.jsx("p",{children:n.description})]}),f.jsx("div",{className:"messages-container",children:i.map(m=>{var g;return f.jsxs("div",{className:"message",children:[f.jsxs("div",{className:"message-info",children:[f.jsx("span",{className:"message-author",children:((g=m.user)==null?void 0:g.full_name)||"Usuario"}),f.jsx("span",{className:"message-time",children:new Date(m.created_at).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),f.jsx("p",{className:"message-content",children:m.content})]},m.id)})}),f.jsxs("div",{className:"message-input-group",children:[f.jsx("input",{type:"text",value:a,onChange:m=>l(m.target.value),onKeyPress:m=>m.key==="Enter"&&w(),placeholder:"Escribe un mensaje..."}),f.jsx("button",{onClick:w,children:f.jsx(q_,{size:20})})]})]}):f.jsx("div",{className:"no-room",children:"Selecciona una conversacin"})})]})}function rS(){const[t,e]=E.useState([]),[r,n]=E.useState([]),[s,i]=E.useState(""),[o,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{const{data:u,error:c}=await M.from("books").select("*").order("created_at",{ascending:!1});if(c)throw c;e(u||[]),n(u||[])}catch(u){console.error("Error fetching books:",u)}finally{a(!1)}})()},[]),E.useEffect(()=>{const l=t.filter(u=>u.title.toLowerCase().includes(s.toLowerCase())||u.author.toLowerCase().includes(s.toLowerCase()));n(l)},[s,t]),f.jsxs("div",{className:"library",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Biblioteca Digital"}),f.jsx("p",{children:"Accede a recursos bibliogrficos y documentacin acadmica"})]}),f.jsx("div",{className:"search-bar",children:f.jsx("input",{type:"text",value:s,onChange:l=>i(l.target.value),placeholder:"Buscar por ttulo o autor..."})}),o?f.jsx("div",{className:"loading",children:"Cargando biblioteca..."}):r.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(cd,{size:48}),f.jsx("p",{children:s?"No se encontraron libros":"No hay libros disponibles"})]}):f.jsx("div",{className:"books-grid",children:r.map(l=>f.jsxs("div",{className:"book-card",children:[f.jsx("div",{className:"book-cover",children:l.cover_url?f.jsx("img",{src:l.cover_url,alt:l.title}):f.jsx("div",{className:"placeholder",children:f.jsx(cd,{size:48})})}),f.jsxs("div",{className:"book-info",children:[f.jsx("h3",{children:l.title}),f.jsx("p",{className:"author",children:l.author}),l.isbn&&f.jsxs("p",{className:"isbn",children:["ISBN: ",l.isbn]}),l.publisher&&f.jsx("p",{className:"publisher",children:l.publisher}),f.jsx("p",{className:"availability",children:f.jsx("span",{className:l.available_copies>0?"available":"unavailable",children:l.available_copies>0?`${l.available_copies} disponibles`:"No disponible"})}),l.file_url&&f.jsxs("a",{href:l.file_url,target:"_blank",rel:"noopener noreferrer",className:"download-btn",children:[f.jsx(M_,{size:18}),f.jsx("span",{children:"Descargar"})]})]})]},l.id))})]})}function nS(){const t=at(v=>v.profile),[e,r]=E.useState([]),[n,s]=E.useState([]),[i,o]=E.useState(!0),[a,l]=E.useState(!1),[u,c]=E.useState({classroom_id:"",title:"",description:"",start_time:"",end_time:""});E.useEffect(()=>{const v=async()=>{try{const[w,_]=await Promise.all([M.from("reservations").select("*").eq("user_id",t==null?void 0:t.id).order("start_time",{ascending:!1}),M.from("classrooms").select("*").order("name",{ascending:!0})]);r(w.data||[]),s(_.data||[])}catch(w){console.error("Error fetching data:",w)}finally{o(!1)}};t!=null&&t.id&&v()},[t==null?void 0:t.id]);const d=async v=>{if(v.preventDefault(),!!t)try{const{error:w}=await M.from("reservations").insert({classroom_id:u.classroom_id,user_id:t.id,title:u.title,description:u.description,start_time:new Date(u.start_time).toISOString(),end_time:new Date(u.end_time).toISOString(),status:"pending"});if(w)throw w;const{data:_}=await M.from("reservations").select("*").eq("user_id",t.id).order("start_time",{ascending:!1});r(_||[]),c({classroom_id:"",title:"",description:"",start_time:"",end_time:""}),l(!1)}catch(w){console.error("Error creating reservation:",w)}},h=v=>{switch(v){case"approved":return"approved";case"rejected":return"rejected";case"cancelled":return"cancelled";default:return"pending"}},p=v=>{var w;return((w=n.find(_=>_.id===v))==null?void 0:w.name)||"Aula desconocida"};return f.jsxs("div",{className:"reservations",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Reservas de Aulas"}),f.jsx("p",{children:"Gestiona tus reservas de espacios y salas de estudio"})]}),f.jsx("div",{className:"action-bar",children:f.jsxs("button",{onClick:()=>l(!a),className:"new-reservation-btn",children:[f.jsx(pm,{size:20}),f.jsx("span",{children:"Nueva Reserva"})]})}),a&&f.jsxs("form",{onSubmit:d,className:"reservation-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Aula/Sala"}),f.jsxs("select",{value:u.classroom_id,onChange:v=>c({...u,classroom_id:v.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Selecciona un aula"}),n.map(v=>f.jsxs("option",{value:v.id,children:[v.name," - ",v.building," (",v.capacity," personas)"]},v.id))]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ttulo"}),f.jsx("input",{type:"text",value:u.title,onChange:v=>c({...u,title:v.target.value}),placeholder:"Ej: Estudio en grupo",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Descripcin"}),f.jsx("textarea",{value:u.description,onChange:v=>c({...u,description:v.target.value}),placeholder:"Detalles sobre la reserva",rows:3})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Inicio"}),f.jsx("input",{type:"datetime-local",value:u.start_time,onChange:v=>c({...u,start_time:v.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Fin"}),f.jsx("input",{type:"datetime-local",value:u.end_time,onChange:v=>c({...u,end_time:v.target.value}),required:!0})]})]}),f.jsxs("div",{className:"form-buttons",children:[f.jsx("button",{type:"submit",className:"submit-btn",children:"Reservar"}),f.jsx("button",{type:"button",onClick:()=>l(!1),className:"cancel-btn",children:"Cancelar"})]})]}),i?f.jsx("div",{className:"loading",children:"Cargando reservas..."}):e.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(gu,{size:48}),f.jsx("p",{children:"No tienes reservas"})]}):f.jsx("div",{className:"reservations-list",children:e.map(v=>f.jsxs("div",{className:"reservation-item",children:[f.jsxs("div",{className:"reservation-header",children:[f.jsx("h3",{children:v.title}),f.jsxs("span",{className:`status ${h(v.status)}`,children:[v.status==="pending"&&"Pendiente",v.status==="approved"&&"Aprobada",v.status==="rejected"&&"Rechazada",v.status==="cancelled"&&"Cancelada"]})]}),f.jsxs("div",{className:"reservation-details",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Aula:"})," ",p(v.classroom_id)]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Inicio:"})," ",new Date(v.start_time).toLocaleString("es-ES")]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Fin:"})," ",new Date(v.end_time).toLocaleString("es-ES")]}),v.description&&f.jsxs("p",{children:[f.jsx("strong",{children:"Descripcin:"})," ",v.description]})]})]},v.id))})]})}function sS(){const[t,e]=E.useState([]),[r,n]=E.useState(!0),[s,i]=E.useState(null),[o,a]=E.useState("all");E.useEffect(()=>{(async()=>{try{const{data:h,error:p}=await M.from("campus_locations").select("*").order("type",{ascending:!0});if(p)throw p;e(h||[])}catch(h){console.error("Error fetching locations:",h)}finally{n(!1)}})()},[]);const l=o==="all"?t:t.filter(d=>d.type===o),u=d=>({building:"Edificio",library:"Biblioteca",cafeteria:"Cafetera",parking:"Estacionamiento",restroom:"Servicios",other:"Otro"})[d]||d,c=d=>({building:"blue",library:"green",cafeteria:"orange",parking:"purple",restroom:"red",other:"gray"})[d]||"gray";return f.jsxs("div",{className:"campus-map",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Mapa del Campus"}),f.jsx("p",{children:"Explora ubicaciones e instalaciones del campus"})]}),f.jsx("div",{className:"filter-bar",children:f.jsxs("select",{value:o,onChange:d=>a(d.target.value),children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"building",children:"Edificios"}),f.jsx("option",{value:"library",children:"Biblioteca"}),f.jsx("option",{value:"cafeteria",children:"Cafetera"}),f.jsx("option",{value:"parking",children:"Estacionamiento"}),f.jsx("option",{value:"restroom",children:"Servicios"}),f.jsx("option",{value:"other",children:"Otros"})]})}),f.jsx("div",{className:"map-container",children:r?f.jsx("div",{className:"loading",children:"Cargando mapa..."}):f.jsxs("div",{className:"map-content",children:[f.jsx("div",{className:"map-view",children:f.jsxs("div",{className:"map-placeholder",children:[f.jsx(V_,{size:64}),f.jsx("p",{children:"Mapa interactivo del campus"})]})}),f.jsxs("div",{className:"locations-panel",children:[f.jsx("h3",{children:"Ubicaciones"}),l.length===0?f.jsx("p",{className:"no-locations",children:"No hay ubicaciones disponibles"}):f.jsx("div",{className:"locations-list",children:l.map(d=>f.jsxs("button",{className:`location-item ${(s==null?void 0:s.id)===d.id?"active":""} ${c(d.type)}`,onClick:()=>i(d),children:[f.jsx("div",{className:"location-name",children:d.name}),f.jsx("div",{className:"location-type",children:u(d.type)})]},d.id))})]})]})}),s&&f.jsxs("div",{className:"location-detail",children:[f.jsx("h2",{children:s.name}),f.jsxs("div",{className:"detail-content",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Tipo:"})," ",u(s.type)]}),s.address&&f.jsxs("p",{children:[f.jsx("strong",{children:"Direccin:"})," ",s.address]}),s.phone&&f.jsxs("p",{children:[f.jsx("strong",{children:"Telfono:"})," ",s.phone]}),s.hours&&f.jsxs("p",{children:[f.jsx("strong",{children:"Horarios:"})," ",s.hours]}),s.description&&f.jsxs("p",{children:[f.jsx("strong",{children:"Descripcin:"})," ",s.description]}),f.jsx("div",{className:"coordinates",children:f.jsxs("p",{children:[f.jsx("strong",{children:"Ubicacin:"})," (",s.latitude,", ",s.longitude,")"]})})]})]})]})}function iS(){const t=at(h=>h.profile),[e,r]=E.useState([]),[n,s]=E.useState(!0),[i,o]=E.useState("all");E.useEffect(()=>{const h=async()=>{try{if(!(t!=null&&t.id))return;const{data:p,error:v}=await M.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(v)throw v;r(p||[])}catch(p){console.error("Error fetching notifications:",p)}finally{s(!1)}};t!=null&&t.id&&h()},[t==null?void 0:t.id]),E.useEffect(()=>{if(!(t!=null&&t.id))return;const h=M.channel(`notifications:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},p=>{r(v=>[p.new,...v])}).subscribe();return()=>{h.unsubscribe()}},[t==null?void 0:t.id]);const a=async h=>{try{const{error:p}=await M.from("notifications").update({is_read:!0}).eq("id",h);if(p)throw p;r(v=>v.map(w=>w.id===h?{...w,is_read:!0}:w))}catch(p){console.error("Error marking notification as read:",p)}},l=async h=>{try{const{error:p}=await M.from("notifications").delete().eq("id",h);if(p)throw p;r(v=>v.filter(w=>w.id!==h))}catch(p){console.error("Error deleting notification:",p)}},u=i==="unread"?e.filter(h=>!h.is_read):e,c=h=>({general:"",location:"",reservation:"",message:"",course:""})[h]||"",d=h=>({general:"General",location:"Ubicacin",reservation:"Reserva",message:"Mensaje",course:"Curso"})[h]||h;return f.jsxs("div",{className:"notifications",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Notificaciones"}),f.jsx("p",{children:"Gestiona tus alertas e informaciones importantes"})]}),f.jsxs("div",{className:"filter-tabs",children:[f.jsxs("button",{className:`tab ${i==="all"?"active":""}`,onClick:()=>o("all"),children:["Todas (",e.length,")"]}),f.jsxs("button",{className:`tab ${i==="unread"?"active":""}`,onClick:()=>o("unread"),children:["Sin Leer (",e.filter(h=>!h.is_read).length,")"]})]}),n?f.jsx("div",{className:"loading",children:"Cargando notificaciones..."}):u.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(mu,{size:48}),f.jsx("p",{children:i==="unread"?"Sin notificaciones sin leer":"Sin notificaciones"})]}):f.jsx("div",{className:"notifications-list",children:u.map(h=>f.jsxs("div",{className:`notification-item ${h.is_read?"":"unread"}`,children:[f.jsx("div",{className:"notification-icon",children:c(h.type)}),f.jsxs("div",{className:"notification-content",onClick:()=>!h.is_read&&a(h.id),children:[f.jsxs("div",{className:"notification-header",children:[f.jsx("h3",{children:h.title}),f.jsx("span",{className:"notification-type",children:d(h.type)})]}),f.jsx("p",{className:"notification-message",children:h.message}),f.jsx("span",{className:"notification-time",children:new Date(h.created_at).toLocaleString("es-ES")})]}),f.jsx("button",{className:"delete-btn",onClick:()=>l(h.id),children:f.jsx(K_,{size:18})})]},h.id))})]})}function oS(){const t=at(n=>n.user),e=at(n=>n.profile),r=at(n=>n.loadUser);return E.useEffect(()=>{r()},[r]),t?f.jsx(Lc,{children:f.jsx(J_,{role:(e==null?void 0:e.role)||"student",children:f.jsxs(Ic,{children:[f.jsx(Ue,{path:"/",element:f.jsx(X_,{})}),f.jsx(Ue,{path:"/schedules",element:f.jsx(eS,{})}),f.jsx(Ue,{path:"/chat",element:f.jsx(tS,{})}),f.jsx(Ue,{path:"/library",element:f.jsx(rS,{})}),f.jsx(Ue,{path:"/reservations",element:f.jsx(nS,{})}),f.jsx(Ue,{path:"/map",element:f.jsx(sS,{})}),f.jsx(Ue,{path:"/notifications",element:f.jsx(iS,{})}),f.jsx(Ue,{path:"*",element:f.jsx(Ac,{to:"/",replace:!0})})]})})}):f.jsx(Lc,{children:f.jsxs(Ic,{children:[f.jsx(Ue,{path:"/login",element:f.jsx(Q_,{})}),f.jsx(Ue,{path:"/register",element:f.jsx(Y_,{})}),f.jsx(Ue,{path:"*",element:f.jsx(Ac,{to:"/login",replace:!0})})]})})}Wo.createRoot(document.getElementById("root")).render(f.jsx(ll.StrictMode,{children:f.jsx(oS,{})}));
